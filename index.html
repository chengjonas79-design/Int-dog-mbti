<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>èŒå® è”èŒ Â· æ¯›å­©å­MBTIæ€§æ ¼æµ‹è¯•</title>
  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¾</text></svg>" />
  <!-- å¾®ä¿¡ / Open Graph åˆ†äº«æ ‡ç­¾ -->
  <meta name="description" content="16é¢˜1åˆ†é’Ÿï¼Œæµ‹æµ‹ä½ å®¶æ¯›å­©å­çš„MBTIæ€§æ ¼ç±»å‹ï¼Œç”Ÿæˆä¸“å±åˆ†äº«æµ·æŠ¥" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="èŒå® è”èŒ Â· æ¯›å­©å­MBTIæ€§æ ¼æµ‹è¯•" />
  <meta property="og:description" content="16é¢˜1åˆ†é’Ÿï¼Œæµ‹æµ‹ä½ å®¶æ¯›å­©å­çš„MBTIæ€§æ ¼ç±»å‹ï¼Œç”Ÿæˆä¸“å±åˆ†äº«æµ·æŠ¥" />
  <meta property="og:image" content="og-share.png" />
  <meta property="og:url" content="" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="èŒå® è”èŒ Â· æ¯›å­©å­MBTIæ€§æ ¼æµ‹è¯•" />
  <meta name="twitter:description" content="16é¢˜1åˆ†é’Ÿï¼Œæµ‹æµ‹ä½ å®¶æ¯›å­©å­çš„MBTIæ€§æ ¼ç±»å‹" />
  <meta name="twitter:image" content="og-share.png" />
  <style>
    :root{
      --bg:#FFF8F5; --card:#fff; --text:#2D2A26; --muted:#8C7E73;
      --pri:#FF6B81; --pri2:#FFF0F2; --pri-dark:#E8556A;
      --shadow:0 8px 24px rgba(180,120,100,.10);
      --accent-yellow:#FFD666; --accent-green:#7ED9A6; --accent-purple:#C4A6FF;
      --accent-orange:#FFB074; --accent-blue:#8CC8FF;
      --radius-card:20px;
    }
    *{box-sizing:border-box; -webkit-tap-highlight-color: transparent;}
    body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"PingFang SC","Hiragino Sans GB","Microsoft YaHei",Arial;color:var(--text);background:var(--bg); overflow-x: hidden;}
    .wrap{max-width:780px;margin:0 auto;padding:18px 12px 60px;}
    @media (max-width: 480px) {
      .wrap { padding: 10px 0 40px; }
    }
    .card{background:var(--card);border-radius:16px;padding:20px;box-shadow:var(--shadow);margin:12px 0;}
    @media (max-width: 480px) {
      .card { border-radius: 12px; margin: 8px 10px; }
    }
    .title{font-size:24px;font-weight:900;margin:0 0 8px;letter-spacing:.2px; line-height: 1.3;}
    .sub{margin:0;color:var(--muted);line-height:1.6; font-size: 15px;}
    .row{display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap;}
    .tag{font-size:12px;color:var(--muted); background: #eee; padding: 2px 8px; border-radius: 4px;}
    .hr{height:1px;background:#eee;margin:16px 0;}
    .q{font-size:19px;font-weight:900;margin:0 0 16px; line-height: 1.4;}
    .opt{width:100%;text-align:left;border:2px solid rgba(255,180,160,0.25);border-radius:16px;padding:18px 16px;margin:10px 0;font-size:16px;font-weight:700;cursor:pointer;background:#fff; transition: all 0.25s; box-shadow: 0 2px 8px rgba(180,120,100,0.06); min-height: 72px; display:flex; align-items:center;}
    .opt:hover{border-color: var(--pri); background: var(--pri2); transform: translateY(-1px); box-shadow: 0 4px 12px rgba(255,107,129,0.10);}
    .opt:active{background: var(--pri2); border-color: var(--pri); transform: scale(0.98);}
    .opt-selected{background: var(--pri) !important; color: #fff !important; border-color: var(--pri) !important; transform: scale(0.97); box-shadow: 0 4px 16px rgba(255,107,129,0.25) !important;}

    /* ç­”é¢˜å¡ç‰‡ */
    .quiz-card {
      background: linear-gradient(180deg, #FFFFFF 0%, #FFFAF8 100%);
      border-radius: 20px;
      padding: 24px 20px;
      box-shadow: 0 8px 24px rgba(180,120,100,0.08);
      border: 1px solid rgba(255,180,160,0.20);
      position: relative;
      overflow: hidden;
    }
    .quiz-card::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--pri), var(--accent-orange), var(--accent-yellow));
      border-radius: 20px 20px 0 0;
    }
    .dim-badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 12px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 700;
      margin-bottom: 14px;
    }
    .dim-badge.ei { background: #FFF0F2; color: #E8556A; }
    .dim-badge.sn { background: #FFF3E6; color: #C87A0A; }
    .dim-badge.tf { background: #EEFFF3; color: #3DA06B; }
    .dim-badge.jp { background: #F0F0FF; color: #7B6BC4; }
    .progress-text {
      text-align: center;
      font-size: 13px;
      color: var(--muted);
      margin-top: 16px;
      font-weight: 600;
    }

    /* åˆ‡é¢˜åŠ¨ç”» */
    .quiz-enter {
      animation: quizSlideIn 0.3s ease-out forwards;
    }
    .quiz-exit {
      animation: quizSlideOut 0.25s ease-in forwards;
    }
    @keyframes quizSlideIn {
      from { opacity: 0; transform: translateX(40px); }
      to { opacity: 1; transform: translateX(0); }
    }
    @keyframes quizSlideOut {
      from { opacity: 1; transform: translateX(0); }
      to { opacity: 0; transform: translateX(-40px); }
    }

    /* è®¡ç®—ä¸­è¿‡æ¸¡ */
    .calc-loading {
      text-align: center;
      padding: 60px 20px;
    }
    .calc-loading .calc-spinner {
      width: 48px; height: 48px;
      border: 4px solid #FFE0D6;
      border-top-color: var(--pri);
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
      margin: 0 auto 20px;
    }
    .calc-loading .calc-text {
      font-size: 18px;
      font-weight: 800;
      color: var(--text);
      margin-bottom: 6px;
    }
    .calc-loading .calc-sub {
      font-size: 14px;
      color: var(--muted);
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* é¦–é¡µæŒ‰é’®è„‰å†² */
    .pulse {
      animation: pulse 2s ease-in-out infinite;
    }
    @keyframes pulse {
      0%, 100% { box-shadow: 0 0 0 0 rgba(255,107,129,0.3); }
      50% { box-shadow: 0 0 0 10px rgba(255,107,129,0); }
    }
    .btns{display:flex;gap:10px;flex-wrap:wrap;margin-top:15px;}
    button{border:0;border-radius:12px;padding:12px 18px;font-size:16px;font-weight:800;cursor:pointer; transition: opacity 0.2s;}
    button:active{opacity: 0.8;}
    .primary{background:var(--pri);color:#fff; flex: 1; min-width: 120px;}
    .ghost{background:var(--pri2);color:var(--pri); flex: 1; min-width: 120px;}
    .small{padding:10px 12px;border-radius:10px;font-size:14px;font-weight:800; flex: initial;}
    .muted{color:var(--muted);font-size:13px;line-height:1.7;}
    
    #panel { display: none; }
    
    .resultType{font-size:38px;font-weight:1000;letter-spacing:1px;margin:0; color: var(--pri);}

    .resultName{font-size:22px;font-weight:1000;margin:4px 0 6px;}
    .oneLine{font-size:15px;color:#444;line-height:1.7;margin:0; font-style: italic;}
    ul{padding-left:18px;margin:12px 0 0;}
    li{margin:6px 0;}
    .toast{position:fixed;left:50%;top:50%;transform:translate(-50%, -50%);background:rgba(0,0,0,.8);color:#fff;padding:12px 24px;border-radius:12px;font-size:15px;display:none;z-index:999; text-align: center; width: 80%; max-width: 300px;}
    .progressBar{height:6px;background:#FFE8E0;border-radius:999px;overflow:hidden;margin-top:15px;}
    .progressBar>div{height:100%;background:var(--pri);width:0%; transition: width 0.3s;}
    
    /* ===== æµ·æŠ¥æ ·å¼ï¼ˆ9:16é•¿å›¾ 540x960ï¼‰ ===== */
    .poster {
      width: 540px; height: 960px;
      background: linear-gradient(180deg, #FFFAF8 0%, #FFE8E0 40%, #FFF3EE 70%, #FFF8F5 100%);
      padding: 28px 32px 24px;
      display: flex; flex-direction: column; align-items: center;
      color: #2D2A26;
      position: fixed; left: -9999px; top: 0; pointer-events: none;
      font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif;
      overflow: hidden;
    }
    .poster-brand {
      font-size: 11px; color: #C4A68C; letter-spacing: 2px; font-weight: 600;
      margin-bottom: 8px;
    }
    /* æµ·æŠ¥å¤´åƒ - å¤§è€Œé†’ç›® */
    .poster .p-avatar {
      width: 130px; height: 130px; border-radius: 50%; overflow: hidden;
      border: 4px solid #FF6B81; background: #FFF0F2;
      margin-bottom: 10px; box-shadow: 0 8px 28px rgba(255,107,129,0.28);
    }
    .poster .p-avatar img { width: 100%; height: 100%; object-fit: cover; display: block; }
    /* æµ·æŠ¥ç±»å‹ - æ”¾å¤§æˆè§†è§‰ç„¦ç‚¹ */
    .poster .p-type {
      font-size: 72px; font-weight: 900; color: #FF6B81; line-height: 1;
      margin-bottom: 8px; letter-spacing: 4px;
      text-shadow: 0 6px 20px rgba(255,107,129,0.18);
    }
    .poster .p-name {
      font-size: 28px; font-weight: 800; color: #2D2A26; margin-bottom: 8px; line-height: 1.3;
    }
    /* é‡‘å¥ - æ”¾å¤§çªå‡ºæƒ…æ„Ÿå…±é¸£ */
    .poster .p-line {
      font-size: 15px; color: #8C7E73; line-height: 1.5; margin-bottom: 6px;
      max-width: 420px; text-align: center; font-style: italic;
    }
    .poster .p-rarity {
      font-size: 12px; color: #FF8C5A; font-weight: 700;
      text-align: center; margin-bottom: 10px;
    }
    .poster .p-monologue {
      font-size: 11px; color: #A89585; line-height: 1.6; margin-bottom: 12px;
      max-width: 400px; text-align: center; font-style: italic;
      padding: 0 16px;
    }
    /* æµ·æŠ¥æ ‡ç­¾ */
    .poster .p-tags { display: flex; gap: 8px; justify-content: center; flex-wrap: wrap; margin-bottom: 10px; }
    .poster .p-tag {
      padding: 5px 16px; border-radius: 999px; font-size: 13px; font-weight: 700;
      display: inline-flex; align-items: center;
    }
    .poster .p-tag:nth-child(1) { background: #FFF0F2; color: #E8556A; border: 1px solid #FFD4CC; }
    .poster .p-tag:nth-child(2) { background: #FFF8E6; color: #C8930A; border: 1px solid #FFE8A0; }
    .poster .p-tag:nth-child(3) { background: #F0FFF5; color: #3DA06B; border: 1px solid #B8E8CC; }
    /* æµ·æŠ¥å°èŠ‚æ ‡é¢˜ */
    .poster .p-section-title {
      font-size: 16px; font-weight: 900; color: #2D2A26;
      text-align: center; margin-bottom: 8px; letter-spacing: 1px;
    }
    /* æµ·æŠ¥æ³¡æ³¡ - ç´§å¯†åœ†å›¢ */
    .poster .p-bubbles {
      position: relative;
      width: 280px; height: 210px;
      margin: 0 auto 8px; flex-shrink: 0;
    }
    .poster .p-bubble {
      position: absolute;
      border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-weight: 800; color: #fff;
      box-shadow: 0 4px 16px rgba(0,0,0,0.10);
      white-space: nowrap;
    }
    .poster .p-bubble-lg { width: 88px; height: 88px; font-size: 16px; }
    .poster .p-bubble-md { width: 72px; height: 72px; font-size: 14px; }
    .poster .p-bubble-sm { width: 58px; height: 58px; font-size: 12px; }
    /* æµ·æŠ¥ç»´åº¦æ¡ - é€‚å½“æ”¾å¤§ */
    .poster .p-dims { width: 100%; margin-bottom: 0; padding: 0 8px; }
    .poster .p-dim-row {
      display: flex; align-items: center; gap: 8px; margin-bottom: 8px;
    }
    .poster .p-dim-label { font-size: 13px; font-weight: 800; min-width: 18px; color: #2D2A26; }
    .poster .p-dim-left { text-align: right; }
    .poster .p-dim-right { text-align: left; }
    .poster .p-dim-track {
      flex: 1; height: 22px; border-radius: 11px; background: #F5EFEB;
      overflow: hidden; display: flex;
    }
    .poster .p-dim-fill {
      height: 100%; display: flex; align-items: center; justify-content: center;
      font-size: 10px; font-weight: 800; color: #fff; min-width: 26px;
    }
    /* æµ·æŠ¥åˆ†éš”çº¿ï¼ˆä¿ç•™ç±»åå…¼å®¹ï¼‰ */
    .poster .p-divider { display: none; }
    /* æµ·æŠ¥åº•éƒ¨ - é€‚åº¦æ”¾å¤§ä½†ä¸å–§å®¾å¤ºä¸» */
    .poster .p-footer {
      width: 100%; margin-top: auto;
      display: flex; align-items: center; justify-content: space-between;
      padding: 14px 18px;
      background: linear-gradient(135deg, rgba(255,240,235,0.6) 0%, rgba(255,228,218,0.6) 100%);
      border-radius: 18px;
      border: 1px solid rgba(255,180,160,0.25);
    }
    .poster .p-footer-text { flex: 1; }
    .poster .p-footer-title { font-size: 15px; font-weight: 800; color: #5D4E3C; margin-bottom: 3px; }
    .poster .p-footer-sub { font-size: 11px; color: #A89585; }
    .poster .p-footer-qr { width: 72px; height: 72px; flex-shrink: 0; }
    .poster .p-footer-qr img, .poster .p-footer-qr canvas { width: 100%; height: 100%; display: block; }

    /* ä¼å¾®å¼¹çª—ï¼šä¸ç»“æœé¡µç»Ÿä¸€è§†è§‰ */
    .modal-mask {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(12, 24, 48, 0.42);
      backdrop-filter: blur(5px);
      -webkit-backdrop-filter: blur(5px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 20px;
    }
    .modal {
      background:
        radial-gradient(circle at 50% -12%, rgba(255,107,129,.16) 0%, rgba(255,107,129,0) 58%),
        linear-gradient(180deg, #FFFFFF 0%, #FFFAF8 100%);
      border-radius: 24px;
      border: 1px solid rgba(255, 180, 160, 0.36);
      box-shadow: 0 20px 44px rgba(15, 23, 42, 0.26);
      padding: 22px 20px 18px;
      width: 100%;
      max-width: 358px;
      position: relative;
      text-align: center;
    }
    .modal-close {
      position: absolute;
      right: 12px;
      top: 12px;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: 1px solid #FFD4CC;
      background: #fff;
      color: #8A94A7;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      line-height: 1;
      user-select: none;
    }
    .modal-close:active {
      background: #FFF0F2;
      transform: scale(0.97);
    }
    .modal-title {
      font-size: 22px;
      font-weight: 900;
      line-height: 1.3;
      margin-bottom: 6px;
      color: #FF6B81;
      letter-spacing: 0.5px;
    }
    .modal-sub {
      font-size: 13px;
      color: #8C7E73;
      line-height: 1.6;
      margin-bottom: 12px;
    }
    .wecom-benefits {
      display: flex;
      gap: 8px;
      justify-content: center;
      margin-bottom: 14px;
    }
    .wecom-benefit {
      display: flex;
      align-items: center;
      gap: 4px;
      padding: 6px 12px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 700;
    }
    .wecom-benefit:nth-child(1) { background: #FFF0F2; color: #E8556A; border: 1px solid #FFD4CC; }
    .wecom-benefit:nth-child(2) { background: #FFF8E6; color: #C8930A; border: 1px solid #FFE8A0; }
    .wecom-benefit:nth-child(3) { background: #F0FFF5; color: #3DA06B; border: 1px solid #B8E8CC; }
    .wecom-type-chip {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-height: 28px;
      padding: 0 14px;
      border-radius: 999px;
      border: 1px solid #FFD4CC;
      background: linear-gradient(180deg, #FFF5F0 0%, #FFEDE8 100%);
      color: #E8556A;
      font-size: 12px;
      font-weight: 800;
      margin-bottom: 14px;
    }
    .wecom-type-chip b {
      margin-left: 4px;
      color: #FF6B81;
      font-weight: 900;
    }
    .wecom-qr-box {
      background: linear-gradient(180deg, #FFF5F0 0%, #FFEDE8 100%);
      border-radius: 16px;
      padding: 12px;
      margin: 0 0 10px;
      border: 1px solid rgba(255, 180, 160, 0.25);
    }
    .wecom-qr-inner {
      background: rgba(255,245,240,0.6);
      border-radius: 10px;
      padding: 10px;
    }
    .wecom-qr-inner img {
      width: 100%;
      max-width: 170px;
      aspect-ratio: 1 / 1;
      display: block;
      margin: 0 auto;
      border-radius: 6px;
    }
    .wecom-steps {
      display: flex;
      gap: 16px;
      justify-content: center;
      margin: 0 0 6px;
    }
    .wecom-step {
      font-size: 11px;
      color: #8C7E73;
      font-weight: 600;
      background: none;
      border: none;
      padding: 0;
    }
    .wecom-note {
      font-size: 11px;
      color: #C4A68C;
      line-height: 1.5;
      margin: 0;
      font-style: italic;
    }
    @media (max-width: 380px) {
      .modal { padding: 20px 16px 16px; }
      .modal-title { font-size: 24px; }
      .wecom-steps { grid-template-columns: 1fr; }
    }
    .pillRow { display: flex; gap: 8px; flex-wrap: wrap; margin: 12px 0; }
    .pill { background: #FFF0F2; color: #E8556A; padding: 4px 12px; border-radius: 8px; font-size: 13px; font-weight: 700; }
    .community-card {
      background: linear-gradient(180deg, #FFFAF8 0%, #FFF5F0 100%);
      border: 1px solid #FFE0D6;
      border-radius: 14px;
      padding: 16px;
      margin-top: 20px;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.7);
    }

    .page {
      max-width: 520px;
      margin: 0 auto;
      padding: 20px 16px;
      background:
        radial-gradient(circle at 50% -10%, rgba(255,107,129,.10) 0%, rgba(255,107,129,0) 48%),
        radial-gradient(circle at 80% 60%, rgba(255,214,102,.08) 0%, transparent 50%),
        linear-gradient(180deg, #FFF8F5 0%, #FFF3EE 100%);
      border-radius: 24px;
    }
    @media (max-width: 480px) {
      .page {
        max-width: 100%;
        border-radius: 0;
        padding: 20px 14px;
      }
    }
    .panel-result { background: transparent; box-shadow: none; padding: 0; }
    .result-card {
      background: linear-gradient(180deg, #FFFFFF 0%, #FFFAF8 100%);
      border-radius: 22px;
      box-shadow: 0 12px 34px rgba(180, 120, 100, 0.10);
      border: 1px solid rgba(255, 180, 160, 0.25);
      padding: 24px;
    }
    .result-title {
      font-size: 12px;
      font-weight: 600;
      color: #C4A68C;
      line-height: 1.2;
      margin: 0 0 20px;
      text-align: center;
      letter-spacing: 1px;
    }
    .result-type {
      font-size: 56px;
      font-weight: 900;
      letter-spacing: 2px;
      text-align: center;
      margin: 0 0 12px;
      color: #FF6B81;
      line-height: 1;
      text-shadow: 0 8px 24px rgba(255, 107, 129, 0.18);
    }
    .result-name {
      font-size: 34px;
      font-weight: 800;
      text-align: center;
      margin: 0 0 16px;
      color: #111827;
      line-height: 1.25;
    }
    .result-line {
      font-size: 15px;
      color: #4B5563;
      text-align: center;
      max-width: 286px;
      margin: 0 auto 20px;
      line-height: 1.7;
    }
    .result-rarity {
      font-size: 13px; color: #FF8C5A; font-weight: 700;
      text-align: center; margin: 0 auto 16px;
      padding: 6px 16px;
      background: rgba(255,140,90,0.08);
      border-radius: 20px; display: block;
    }
    .result-tags {
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
      margin: 0 0 20px;
    }

    /* ===== å†…å¿ƒç‹¬ç™½å¡ç‰‡ ===== */
    .monologue-card {
      background: linear-gradient(180deg, #FFF8F0 0%, #FFF3E8 100%);
      border: 1px dashed #FFD4B8;
      border-radius: 16px;
      padding: 16px 18px;
      margin: 0 0 24px;
      position: relative;
    }
    .monologue-label {
      font-size: 12px; font-weight: 700;
      color: #FF8C5A; margin-bottom: 8px;
      display: flex; align-items: center; gap: 4px;
    }
    .monologue-label::before { content: 'ğŸ’­'; }
    .monologue-text {
      font-size: 15px; line-height: 1.8;
      color: #5D4E3C; font-style: italic;
    }
    .result-card .tag {
      min-height: 30px;
      padding: 0 14px;
      border-radius: 999px;
      font-size: 13px;
      display: inline-flex;
      align-items: center;
      font-weight: 700;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.8);
    }
    .result-card .tag:nth-child(1) { background: #FFF0F2; color: #E8556A; border: 1px solid #FFD4CC; }
    .result-card .tag:nth-child(2) { background: #FFF8E6; color: #C8930A; border: 1px solid #FFE8A0; }
    .result-card .tag:nth-child(3) { background: #F0FFF5; color: #3DA06B; border: 1px solid #B8E8CC; }
    .section-title {
      font-weight: 800;
      margin-bottom: 12px;
      font-size: 16px;
      color: #0F172A;
      letter-spacing: 0.2px;
    }
    .tips-card {
      background: linear-gradient(180deg, #FFFAF8 0%, #FFF5F0 100%);
      border-radius: 14px;
      border: 1px solid #FFE0D6;
      padding: 16px;
      margin-bottom: 24px;
    }
    .tips-card ul { list-style: none; padding: 0; margin: 0; }
    .tips-card li { padding-left: 26px; position: relative; margin-bottom: 12px; line-height: 1.75; color: #1F2937; font-size: 15px; }
    .tips-card li:last-child { margin-bottom: 0; }
    .tips-card li::before { content: 'ğŸ¾'; position: absolute; left: 0; top: 1px; font-size: 14px; }

    .avatar-wrap { display: flex; justify-content: center; margin: 8px 0 24px; }
    .avatar-circle { width: 96px; height: 96px; border-radius: 50%; overflow: visible; border: 3px solid #FF6B81; background: #FFF0F2; flex-shrink: 0; cursor: pointer; transition: all 0.3s; position: relative; box-shadow: 0 8px 20px rgba(255,107,129,0.2); }
    .avatar-circle:hover { transform: scale(1.05); border-color: #E8556A; box-shadow: 0 4px 12px rgba(255,107,129,0.3); }
    .avatar-circle img { width: 100%; height: 100%; object-fit: cover; display: block; border-radius: 50%; }

    /* ===== ç›¸æœºè§’æ ‡ï¼ˆå§‹ç»ˆå¯è§ï¼Œæ›¿ä»£ hover-only æç¤ºï¼‰ ===== */
    .avatar-camera-badge {
      position: absolute; right: -2px; bottom: -2px;
      width: 28px; height: 28px; border-radius: 50%;
      background: #FF6B81; color: #fff;
      display: flex; align-items: center; justify-content: center;
      font-size: 14px; line-height: 1;
      border: 2px solid #fff;
      box-shadow: 0 2px 8px rgba(255,107,129,0.3);
      z-index: 2;
      pointer-events: none;
    }

    /* ===== å¤´åƒå¼•å¯¼é¡µï¼ˆç­”é¢˜å®Œæˆåã€ç»“æœé¡µä¹‹å‰ï¼‰ ===== */
    .avatar-prompt {
      text-align: center;
      padding: 40px 20px 32px;
      animation: fadeInUp 0.5s ease;
    }
    .avatar-prompt-title {
      font-size: 22px; font-weight: 800; color: #1F2937;
      margin-bottom: 24px;
    }
    .avatar-prompt-circle {
      width: 120px; height: 120px; border-radius: 50%;
      border: 3px dashed #FFB3BE;
      background: #FFF5F7;
      margin: 0 auto 16px;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer; position: relative;
      overflow: hidden;
      transition: all 0.3s;
      animation: avatarPulse 2s ease-in-out infinite;
    }
    .avatar-prompt-circle:active { transform: scale(0.96); }
    .avatar-prompt-circle.has-photo {
      border-style: solid; border-color: #FF6B81;
      animation: none;
    }
    .avatar-prompt-circle .prompt-placeholder {
      display: flex; flex-direction: column; align-items: center; gap: 4px;
      color: #FF8FA0; font-size: 13px;
    }
    .avatar-prompt-circle .prompt-placeholder .camera-icon { font-size: 28px; }
    .avatar-prompt-circle img {
      width: 100%; height: 100%; object-fit: cover; display: none;
    }
    .avatar-prompt-circle.has-photo img { display: block; }
    .avatar-prompt-circle.has-photo .prompt-placeholder { display: none; }
    .avatar-prompt-circle .check-mark {
      display: none; position: absolute; right: 4px; bottom: 4px;
      width: 24px; height: 24px; border-radius: 50%;
      background: #22C55E; color: #fff;
      font-size: 14px; line-height: 24px; text-align: center;
    }
    .avatar-prompt-circle.has-photo .check-mark { display: block; }

    @keyframes avatarPulse {
      0%, 100% { box-shadow: 0 0 0 0 rgba(255,107,129,0.25); }
      50% { box-shadow: 0 0 0 12px rgba(255,107,129,0); }
    }
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .avatar-prompt-desc {
      font-size: 15px; color: #6B7280; line-height: 1.6;
      margin-bottom: 28px;
    }
    .avatar-prompt-btn {
      width: 100%; height: 48px; border-radius: 14px;
      background: linear-gradient(135deg, #FF6B81, #FF8FA0);
      color: #fff; font-size: 17px; font-weight: 800;
      border: none; cursor: pointer;
      transition: all 0.3s;
    }
    .avatar-prompt-btn:active { transform: scale(0.97); }
    .avatar-prompt-skip {
      margin-top: 14px; font-size: 13px; color: #9CA3AF;
      cursor: pointer; background: none; border: none;
      padding: 8px 16px;
    }
    .avatar-prompt-skip:active { color: #6B7280; }

    /* ===== æµ·æŠ¥ç”Ÿæˆå‰çš„å¤´åƒæé†’å¡ ===== */
    .avatar-remind-card {
      background: linear-gradient(180deg, #FFF8F5 0%, #FFF0EB 100%);
      border: 1px solid #FFD4CC;
      border-radius: 14px;
      padding: 14px 16px;
      margin-bottom: 12px;
      display: flex; align-items: center; gap: 12px;
      animation: fadeInUp 0.3s ease;
    }
    .avatar-remind-card .remind-icon { font-size: 24px; flex-shrink: 0; }
    .avatar-remind-card .remind-text {
      flex: 1; font-size: 13px; color: #374151; line-height: 1.5;
    }
    .avatar-remind-card .remind-text strong { color: #FF6B81; }
    .avatar-remind-card .remind-actions { display: flex; gap: 8px; flex-shrink: 0; }
    .avatar-remind-card .remind-btn {
      padding: 6px 14px; border-radius: 8px; font-size: 12px; font-weight: 700;
      border: none; cursor: pointer; transition: all 0.2s;
    }
    .avatar-remind-card .remind-btn-upload {
      background: #FF6B81; color: #fff;
    }
    .avatar-remind-card .remind-btn-skip {
      background: #F3F4F6; color: #6B7280;
    }

    .btn-primary, .primary { height: 46px; border-radius: 14px; background: linear-gradient(135deg,#FF6B81,#FF8FA0); color: #fff; }
    .btn-ghost, .ghost { height: 46px; border-radius: 14px; background: #fff; color: #FF6B81; border: 1.5px solid #FF6B81; }
    .result-card .btns { margin-top: 12px; }
    .result-card .btns button {
      width: 100%;
      min-width: 100%;
      height: 48px;
      border-radius: 14px;
      font-size: 19px;
      font-weight: 800;
      letter-spacing: 0.2px;
    }

    .qr-card { background: #fff; border-radius: 16px; padding: 16px; display: flex; align-items: flex-end; justify-content: space-between; gap: 14px; border: 1px solid #F3F4F6; }
    .qr-text { flex: 1; }
    .qr-text .test-cta-title { font-size: 16px; font-weight: 800; color: #111827; margin-bottom: 6px; }
    .qr-text .test-cta-sub { font-size: 13px; color: #6B7280; line-height: 1.5; }
    .qr-code { width: 160px; height: 160px; flex-shrink: 0; }
    .qr-code img { width: 100%; height: 100%; display: block; object-fit: cover; }



    .poster-preview {
      display: none;
      margin-top: 16px;
      padding: 14px;
      border-radius: 18px;
      background: linear-gradient(180deg, #FFFAF8 0%, #FFF3EE 100%);
      border: 1px solid #FFE0D6;
      box-shadow: 0 10px 24px rgba(180,120,100,0.08);
    }
    .poster-preview.is-show { display: block; }
    .poster-preview-title {
      font-size: 14px;
      color: #FF6B81;
      font-weight: 800;
      margin-bottom: 4px;
      text-align: center;
      letter-spacing: 0.3px;
    }
    .poster-preview-sub {
      font-size: 12px;
      color: #64748B;
      text-align: center;
      margin-bottom: 10px;
      line-height: 1.5;
    }
    .poster-image-wrap {
      position: relative;
    }
    img#posterImg {
      display: none;
      width: 100%;
      border-radius: 18px;
      box-shadow: 0 10px 26px rgba(180,120,100,0.16);
      border: 1px solid #FFD4CC;
    }
    .poster-avatar-hotspot {
      display: none;
      position: absolute;
      left: 50%;
      top: 9%;
      width: 18%;
      aspect-ratio: 1 / 1;
      transform: translate(-50%, -50%);
      border-radius: 50%;
      border: none;
      background: transparent;
      cursor: pointer;
      z-index: 2;
      outline: none;
    }
    .poster-avatar-hotspot::after { display: none; }
    .poster-avatar-hotspot:active {
      transform: translate(-50%, -50%) scale(0.97);
    }
    .poster-preview.is-show .poster-avatar-hotspot {
      display: block;
    }
    .save-tip {
      display: none;
      margin-top: 12px;
      min-height: 44px;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 10px 12px;
      background: linear-gradient(90deg, #FFF0F2 0%, #FFEDE8 100%);
      border-radius: 12px;
      border: 1px solid #FFD4CC;
      color: #C44055;
      font-size: 14px;
      font-weight: 700;
      line-height: 1.5;
    }

    /* ===== æƒ…ç»ªæ³¡æ³¡å›¾ ===== */
    .bubble-section { margin: 28px 0 8px; }
    .bubble-section .section-title { text-align: center; }
    .bubble-chart {
      position: relative;
      width: 100%;
      height: 260px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto;
    }
    .bubble-container {
      position: relative;
      width: 240px;
      height: 240px;
    }
    .bubble {
      position: absolute;
      left: 50%; top: 50%;
      transform: translate(calc(-50% + var(--x)), calc(-50% + var(--y)));
      border-radius: 50%;
      background: var(--color);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      box-shadow: 0 4px 14px rgba(0,0,0,0.08);
      animation: bubbleFloat 3s ease-in-out infinite alternate;
      animation-delay: var(--delay, 0s);
      white-space: nowrap;
    }
    .bubble-lg { width: 82px; height: 82px; font-size: 15px; }
    .bubble-md { width: 66px; height: 66px; font-size: 13px; }
    .bubble-sm { width: 52px; height: 52px; font-size: 12px; }
    @keyframes bubbleFloat {
      0% { transform: translate(calc(-50% + var(--x)), calc(-50% + var(--y))) scale(1); }
      100% { transform: translate(calc(-50% + var(--x)), calc(-50% + var(--y) - 6px)) scale(1.04); }
    }

    /* ===== ç»´åº¦æ¡å½¢å›¾ ===== */
    .dim-section { margin: 28px 0 8px; }
    .dim-row {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 16px;
    }
    .dim-label {
      font-size: 12px;
      font-weight: 700;
      min-width: 50px;
      color: var(--text);
    }
    .dim-left { text-align: right; }
    .dim-right { text-align: left; }
    .dim-bar-track {
      flex: 1;
      height: 26px;
      border-radius: 13px;
      background: #F5EFEB;
      overflow: hidden;
      display: flex;
      position: relative;
    }
    .dim-bar-fill {
      height: 100%;
      background: var(--bar-color);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 800;
      color: #fff;
      transition: width 0.8s ease;
      min-width: 28px;
    }
    .dim-bar-fill:first-child { border-radius: 13px 0 0 13px; }
    .dim-bar-fill:last-child { border-radius: 0 13px 13px 0; }
    .dim-title-label {
      text-align: center;
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 6px;
      font-weight: 600;
    }

    /* ===== æ€§æ ¼ç”»åƒ ===== */
    .profile-section { margin: 28px 0 8px; }
    .profile-card {
      background: linear-gradient(180deg, #FFFAF8 0%, #FFF5F0 100%);
      border-radius: 14px;
      border: 1px solid #FFE0D6;
      padding: 16px;
      margin-bottom: 14px;
    }
    .profile-card .sub-title {
      font-size: 15px;
      font-weight: 800;
      color: var(--text);
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .profile-card ul { list-style: none; padding: 0; margin: 0; }
    .profile-card li {
      padding-left: 20px; position: relative; margin-bottom: 10px;
      line-height: 1.7; color: #4A4340; font-size: 14px;
    }
    .profile-card li:last-child { margin-bottom: 0; }
    .profile-card li::before { content: ''; position: absolute; left: 0; top: 9px; width: 8px; height: 8px; border-radius: 50%; background: var(--pri); opacity: 0.5; }
    .vs-card {
      background: linear-gradient(135deg, #FFF0F2 0%, #FFF8E6 100%);
      border-radius: 14px;
      border: 1px solid #FFE0D6;
      padding: 16px;
      margin-bottom: 14px;
    }
    .vs-row { display: flex; gap: 12px; }
    .vs-col { flex: 1; }
    .vs-label { font-size: 12px; font-weight: 700; color: var(--muted); margin-bottom: 6px; }
    .vs-text { font-size: 14px; line-height: 1.7; color: #4A4340; }
    .vs-divider { width: 1px; background: #FFD4CC; flex-shrink: 0; }

    /* ===== ä¸»äººæŒ‡å— ===== */
    .guide-section { margin: 28px 0 8px; }
    .guide-card {
      background: #fff;
      border-radius: 14px;
      border: 1px solid #F0E6E0;
      padding: 16px;
      margin-bottom: 12px;
      box-shadow: 0 4px 12px rgba(180,120,100,0.06);
    }
    .guide-card .guide-title {
      font-size: 15px;
      font-weight: 800;
      color: var(--text);
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .guide-card ul { list-style: none; padding: 0; margin: 0; }
    .guide-card li {
      padding-left: 20px; position: relative; margin-bottom: 10px;
      line-height: 1.7; color: #4A4340; font-size: 14px;
    }
    .guide-card li:last-child { margin-bottom: 0; }
    .guide-card li::before { content: ''; position: absolute; left: 0; top: 9px; width: 8px; height: 8px; border-radius: 50%; }
    .guide-card:nth-child(1) li::before { background: #FF6B81; opacity: 0.5; }
    .guide-card:nth-child(2) li::before { background: #FFD666; opacity: 0.6; }
    .guide-card:nth-child(3) li::before { background: #7ED9A6; opacity: 0.6; }
    .guide-card:nth-child(4) li::before { background: #C4A6FF; opacity: 0.5; }
    .guide-card:nth-child(5) li::before { background: #8CC8FF; opacity: 0.5; }

    /* ===== å›åˆ°é¡¶éƒ¨æŒ‰é’® ===== */
    .back-to-top {
      position: fixed; right: 16px; bottom: 80px;
      width: 44px; height: 44px; border-radius: 50%;
      background: rgba(255,107,129,0.9); color: #fff;
      border: none; font-size: 20px; cursor: pointer;
      box-shadow: 0 4px 12px rgba(255,107,129,0.3);
      display: none; align-items: center; justify-content: center;
      z-index: 900; transition: opacity 0.3s, transform 0.3s;
    }
    .back-to-top:active { transform: scale(0.9); }
    .back-to-top.is-visible { display: flex; }

    /* ===== å…è´¹ç‰ˆæµ·æŠ¥ï¼ˆç²¾ç®€æ¬¾ï¼‰ ===== */
    .poster-free .pf-spacer-top { height: 20px; }
    .poster-free .pf-spacer { height: 16px; }
    .poster-free .pf-spacer-sm { height: 8px; }
    .poster-free .pf-spacer-lg { height: 32px; }
    .poster-free .p-avatar {
      width: 150px; height: 150px;
      margin-bottom: 0;
    }
    .poster-free .p-type {
      font-size: 80px;
      margin-bottom: 10px;
    }
    .poster-free .p-name {
      font-size: 32px;
      margin-bottom: 0;
    }
    .poster-free .p-line {
      font-size: 16px;
      margin-bottom: 0;
    }
    .poster-free .p-rarity {
      font-size: 13px;
      margin-bottom: 0;
    }
    .poster-free .p-tags {
      margin-bottom: 0;
    }
    .poster-free .p-tag {
      font-size: 14px;
      padding: 6px 18px;
    }
    .pf-unlock-hint {
      text-align: center;
      padding: 20px 24px;
      border: 2px dashed rgba(255,107,129,0.35);
      border-radius: 16px;
      background: rgba(255,240,242,0.5);
      margin: 0 32px;
    }
    .pf-unlock-icon {
      font-size: 28px;
      margin-bottom: 8px;
    }
    .pf-unlock-text {
      font-size: 16px;
      font-weight: 800;
      color: #FF6B81;
      margin-bottom: 4px;
    }
    .pf-unlock-sub {
      font-size: 12px;
      color: #A89585;
    }

    /* ===== å†…å®¹è§£é”é®ç½©ç³»ç»Ÿ ===== */
    .locked-section {
      position: relative;
      overflow: hidden;
    }
    .locked-section .lock-overlay {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      z-index: 10;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: rgba(255,248,245,0.5);
      border-radius: inherit;
      cursor: pointer;
    }
    .locked-section .lock-overlay .lock-icon {
      width: 44px; height: 44px;
      border-radius: 50%;
      background: linear-gradient(135deg, #FF6B81, #FF8FA0);
      color: #fff;
      display: flex; align-items: center; justify-content: center;
      font-size: 20px;
      box-shadow: 0 4px 16px rgba(255,107,129,0.3);
      margin-bottom: 8px;
    }
    .locked-section .lock-overlay .lock-text {
      font-size: 13px;
      font-weight: 700;
      color: #FF6B81;
    }
    .locked-section .lock-content {
      filter: blur(6px);
      pointer-events: none;
      user-select: none;
      -webkit-user-select: none;
    }
    /* è§£é”åå»æ‰é®ç½© */
    .unlocked .locked-section .lock-overlay { display: none; }
    .unlocked .locked-section .lock-content { filter: none; pointer-events: auto; user-select: auto; -webkit-user-select: auto; }

    /* è§£é”åˆ†å‰²çº¿ */
    .lock-divider {
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 24px 0 16px;
      padding: 0 4px;
    }
    .lock-divider-line {
      flex: 1;
      height: 1px;
      background: linear-gradient(90deg, transparent, #FFD4CC, transparent);
    }
    .lock-divider-text {
      font-size: 12px;
      font-weight: 700;
      color: #FF8C5A;
      white-space: nowrap;
      display: flex;
      align-items: center;
      gap: 4px;
    }
    .unlocked .lock-divider { display: none; }

    /* åº•éƒ¨æ‚¬æµ®è§£é”æ¡ */
    .unlock-bar {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      z-index: 800;
      background: linear-gradient(180deg, rgba(255,248,245,0) 0%, rgba(255,248,245,1) 20%);
      padding: 24px 16px 16px;
      padding-bottom: calc(16px + env(safe-area-inset-bottom, 0px));
      display: none;
      justify-content: center;
    }
    .unlock-bar.is-show { display: flex; }
    .unlock-bar-btn {
      width: 100%;
      max-width: 400px;
      height: 52px;
      border-radius: 16px;
      border: none;
      background: linear-gradient(135deg, #FF6B81, #FF8FA0);
      color: #fff;
      font-size: 17px;
      font-weight: 800;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      box-shadow: 0 8px 24px rgba(255,107,129,0.35);
      transition: all 0.25s;
      letter-spacing: 0.3px;
    }
    .unlock-bar-btn:active { transform: scale(0.97); }
    .unlocked .unlock-bar { display: none !important; }

    /* ä¼å¾®è§£é”å¼¹çª— */
    .unlock-modal-mask {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(12, 24, 48, 0.50);
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1100;
      padding: 20px;
    }
    .unlock-modal-mask.is-show { display: flex; }
    .unlock-modal {
      background:
        radial-gradient(circle at 50% -12%, rgba(255,107,129,.16) 0%, rgba(255,107,129,0) 58%),
        linear-gradient(180deg, #FFFFFF 0%, #FFFAF8 100%);
      border-radius: 24px;
      border: 1px solid rgba(255, 180, 160, 0.36);
      box-shadow: 0 20px 44px rgba(15, 23, 42, 0.26);
      padding: 28px 24px 22px;
      width: 100%;
      max-width: 358px;
      text-align: center;
      animation: posterFadeIn 0.3s ease;
    }
    .unlock-modal-title {
      font-size: 20px;
      font-weight: 900;
      color: #2D2A26;
      margin-bottom: 6px;
      line-height: 1.4;
    }
    .unlock-modal-title .emoji { font-size: 24px; }
    .unlock-modal-sub {
      font-size: 13px;
      color: #8C7E73;
      line-height: 1.6;
      margin-bottom: 16px;
    }
    .unlock-modal-qr {
      background: linear-gradient(180deg, #FFF5F0 0%, #FFEDE8 100%);
      border-radius: 16px;
      padding: 16px;
      margin: 0 0 16px;
      border: 1px solid rgba(255, 180, 160, 0.25);
    }
    .unlock-modal-qr img {
      width: 160px;
      height: 160px;
      display: block;
      margin: 0 auto;
      border-radius: 8px;
    }
    .unlock-countdown {
      font-size: 14px;
      color: #8C7E73;
      margin-bottom: 12px;
      line-height: 1.6;
    }
    .unlock-countdown .countdown-num {
      font-weight: 900;
      color: #FF6B81;
      font-size: 20px;
      display: inline-block;
      min-width: 28px;
    }
    .unlock-confirm-btn {
      display: none;
      width: 100%;
      height: 48px;
      border-radius: 14px;
      border: none;
      background: linear-gradient(135deg, #FF6B81, #FF8FA0);
      color: #fff;
      font-size: 16px;
      font-weight: 800;
      cursor: pointer;
      box-shadow: 0 4px 16px rgba(255,107,129,0.3);
      transition: all 0.25s;
    }
    .unlock-confirm-btn:active { transform: scale(0.97); }
    .unlock-confirm-btn.is-show { display: block; }
    .unlock-skip {
      margin-top: 10px;
      font-size: 12px;
      color: #C4A68C;
      background: none;
      border: none;
      cursor: pointer;
      padding: 6px 12px;
      display: none;
    }
    .unlock-skip.is-show { display: inline-block; }

    /* ===== æµ·æŠ¥å…¨å±é¢„è§ˆé®ç½© ===== */
    .poster-fullscreen {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.88);
      display: none; flex-direction: column;
      align-items: center; justify-content: center;
      z-index: 1000; padding: 0 16px;
      padding-top: env(safe-area-inset-top, 0px);
      padding-bottom: env(safe-area-inset-bottom, 0px);
    }
    .poster-fullscreen.is-show { display: flex; }
    .poster-fs-close {
      position: absolute; right: 16px; top: 16px;
      width: 36px; height: 36px; border-radius: 50%;
      background: rgba(255,255,255,0.15);
      color: #fff; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      font-size: 22px; line-height: 1;
      border: none;
      z-index: 2;
      -webkit-tap-highlight-color: transparent;
    }
    .poster-fs-close:active { background: rgba(255,255,255,0.25); transform: scale(0.92); }
    .poster-fs-body {
      flex: 1; display: flex; align-items: center; justify-content: center;
      width: 100%; overflow: hidden;
      padding: 48px 0 8px;
    }
    .poster-fs-body img {
      width: 100%; max-height: 78vh;
      object-fit: contain;
      border-radius: 12px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.5);
      animation: posterFadeIn 0.35s ease;
    }
    @keyframes posterFadeIn {
      from { opacity: 0; transform: scale(0.92); }
      to { opacity: 1; transform: scale(1); }
    }
    .poster-fs-footer {
      text-align: center;
      padding: 12px 0 16px;
      flex-shrink: 0;
    }
    .poster-fs-tip {
      color: rgba(255,255,255,0.85);
      font-size: 14px; font-weight: 600;
      margin-bottom: 8px;
    }
    .poster-fs-change {
      color: rgba(255,255,255,0.5);
      font-size: 13px; background: none; border: none;
      cursor: pointer; padding: 6px 12px;
      -webkit-tap-highlight-color: transparent;
    }
    .poster-fs-change:active { color: rgba(255,255,255,0.8); }

  </style>
  <script src="https://static.cloudbase.net/cloudbase-js-sdk/2.17.3/cloudbase.full.js"></script>
</head>
<body>
  <div class="wrap">
    <div class="card" id="hero">
      <div class="row">
        <div>
          <h1 class="title">èŒå® è”èŒ Â· æ¯›å­©å­MBTIæ€§æ ¼æµ‹è¯•</h1>
          <p class="sub">16 é¢˜ï¼Œ1 åˆ†é’Ÿææ‡‚ä½ å®¶æ¯›å­©å­çš„"é™ªä¼´å‹äººæ ¼"ï¼Œé¡ºä¾¿ç”Ÿæˆä¸€å¼ èƒ½æ™’çš„ç»“æœå¡ã€‚</p>
        </div>
        <div class="tag" id="statusTag">æœªå¼€å§‹</div>
      </div>
      <div class="progressBar"><div id="bar"></div></div>
      <div class="btns">
        <button class="primary pulse" onclick="start()">å¼€å§‹æµ‹è¯•</button>
        <button class="ghost" onclick="showDemo()">çœ‹çœ‹ç¤ºä¾‹</button>
      </div>
      <p class="muted" style="margin-top:10px;">å®Œæˆåå¯åŠ å…¥ã€åŒå“ç§Ã—åŒæ€§æ ¼ã€‘æ¯›å­©å­é™ªä¼´ç¤¾ç¾¤</p>
      <p class="muted" style="margin-top:4px;">å°æç¤ºï¼šæŒ‰ä½ å®¶æ¯›å­©å­"æ—¥å¸¸æœ€å¸¸è§çŠ¶æ€"é€‰ï¼Œä¸ç”¨çº ç»“ä¸ªåˆ«ç‰¹ä¾‹ã€‚</p>
    </div>


    <div class="card" id="panel">
      <div class="row">
        <div class="tag" id="step">å‡†å¤‡ä¸­</div>
        <div class="tag" id="progress"></div>
      </div>
      <div class="hr"></div>
      <div id="content">
        <p class="muted">ç‚¹å‡»ã€Œå¼€å§‹æµ‹è¯•ã€è¿›å…¥ç¬¬ 1 é¢˜ã€‚</p>
      </div>
    </div>

    <div class="toast" id="toast">æµ‹è¯•ç»“æœå·²ç”Ÿæˆ</div>

    <button class="back-to-top" id="backToTop" onclick="window.scrollTo({top:0,behavior:'smooth'})">&#8593;</button>

  </div>

  <!-- åº•éƒ¨æ‚¬æµ®è§£é”æ¡ -->
  <div class="unlock-bar" id="unlockBar">
    <button class="unlock-bar-btn" onclick="showUnlockModal()">
      ğŸ”“ è§£é”å®Œæ•´æ€§æ ¼æŠ¥å‘Šï¼ˆå…è´¹ï¼‰
    </button>
  </div>

  <!-- ä¼å¾®è§£é”å¼¹çª— -->
  <div class="unlock-modal-mask" id="unlockModal">
    <div class="unlock-modal">
      <div class="unlock-modal-title">
        <span class="emoji">ğŸ¾</span> è§£é”å®Œæ•´æ€§æ ¼æŠ¥å‘Š
      </div>
      <div class="unlock-modal-sub">æ‰«ç æ·»åŠ å® ç‰©é¡¾é—®ï¼Œå³å¯å…è´¹æŸ¥çœ‹å…¨éƒ¨å†…å®¹</div>
      <div class="unlock-modal-qr">
        <img src="wecom_qr.png" alt="ä¼ä¸šå¾®ä¿¡äºŒç»´ç " />
      </div>
      <div class="unlock-countdown" id="unlockCountdown">
        æ·»åŠ åæŠ¥å‘Šå°†åœ¨ <span class="countdown-num" id="countdownNum">15</span> ç§’åè§£é”
      </div>
      <button class="unlock-confirm-btn" id="unlockConfirmBtn" onclick="confirmUnlock()">
        âœ… å·²æ·»åŠ ï¼Œç‚¹å‡»è§£é”
      </button>
      <button class="unlock-skip" id="unlockSkip" onclick="confirmUnlock()">
        æš‚æ—¶è·³è¿‡
      </button>
    </div>
  </div>

  <!-- æµ·æŠ¥å…¨å±é¢„è§ˆ -->
  <div class="poster-fullscreen" id="posterFullscreen">
    <span class="poster-fs-close" onclick="closePosterFullscreen()">&times;</span>
    <div class="poster-fs-body">
      <img id="posterFsImg" alt="åˆ†äº«æµ·æŠ¥" />
    </div>
    <div class="poster-fs-footer">
      <div class="poster-fs-tip">ğŸ‘† é•¿æŒ‰å›¾ç‰‡ä¿å­˜å¹¶åˆ†äº«</div>
      <button class="poster-fs-change" onclick="posterFsChangeAvatar()">ğŸ“· æ¢å¤´åƒé‡æ–°ç”Ÿæˆ</button>
    </div>
  </div>

  <div class="modal-mask" id="wecomModal">
    <div class="modal">
      <span class="modal-close" onclick="closeWecomModal()">&times;</span>
      <div class="modal-title">ğŸ é¢†å–ä¸“å±å…»æŠ¤ç¤¼åŒ…</div>
      <div class="modal-sub">æ‰«ç åŠ ä¼å¾®ï¼Œå‘é€å“ç§+æ€§æ ¼ç±»å‹å³å¯é¢†å–</div>
      <div class="wecom-benefits">
        <span class="wecom-benefit">ğŸ“– å…»æŠ¤æ‰‹å†Œ</span>
        <span class="wecom-benefit">ğŸ‘¥ åŒå“ç§ç¾¤</span>
        <span class="wecom-benefit">ğŸ¯ è®­ç»ƒæ¸…å•</span>
      </div>
      <div class="wecom-type-chip">æˆ‘å®¶æ¯›å­©å­æ˜¯ï¼š<b id="wecomTypeLabel">MBTI</b></div>
      <div class="wecom-qr-box">
        <div class="wecom-qr-inner">
          <img src="wecom_qr.png" alt="ä¼ä¸šå¾®ä¿¡äºŒç»´ç " />
        </div>
      </div>
      <div class="wecom-steps">
        <div class="wecom-step">â‘  é•¿æŒ‰è¯†åˆ«äºŒç»´ç </div>
        <div class="wecom-step">â‘¡ å‘ç±»å‹é¢†ç¤¼åŒ…</div>
      </div>
      <p class="wecom-note">å·²ä¸ºä½ åŒ¹é…åŒå“ç§åŒæ€§æ ¼äº¤æµç¾¤ âœ¨</p>
    </div>
  </div>

  <!-- æµ·æŠ¥ç”Ÿæˆä¾èµ– - CDN å®¹ç¾ -->
  <script>
  function loadScript(src, fallbackSrc) {
    return new Promise(function(resolve, reject) {
      var s = document.createElement('script');
      s.src = src;
      s.onload = resolve;
      s.onerror = function() {
        if (fallbackSrc) {
          console.warn('CDN failed: ' + src + ', trying fallback...');
          var fb = document.createElement('script');
          fb.src = fallbackSrc;
          fb.onload = resolve;
          fb.onerror = reject;
          document.head.appendChild(fb);
        } else { reject(new Error('Failed to load: ' + src)); }
      };
      document.head.appendChild(s);
    });
  }
  Promise.all([
    loadScript(
      'https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js',
      'https://unpkg.com/html2canvas@1.4.1/dist/html2canvas.min.js'
    ),
    loadScript(
      'https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js',
      'https://unpkg.com/qrcodejs@1.0.0/qrcode.min.js'
    )
  ]).then(function(){ console.log('Dependencies loaded'); })
    .catch(function(e){ console.error('Dependency load failed:', e); });
  </script>

<script>
  /* ==========================================
   * äº‹ä»¶è¿½è¸ªæ¡†æ¶ï¼ˆå·²æ¥å…¥CloudBaseæ•°æ®åº“ï¼‰
   * ========================================== */
  let _cbDb = null;
  function trackEvent(category, action, label, value) {
    try {
      console.log('[Track]', category, action, label || '', value || '');
      if (_cbDb) {
        _cbDb.collection('events').add({
          c: category,
          a: action,
          l: label || '',
          v: value || 0,
          t: new Date(),
          ts: Date.now()
        });
      }
    } catch(e) { /* é™é»˜å¿½ç•¥è¿½è¸ªé”™è¯¯ */ }
  }
  // é¡µé¢è®¿é—®è‡ªåŠ¨è®°å½•
  trackEvent('funnel', 'page_view', document.title);

  /* ==========================================
   * CloudBase åˆå§‹åŒ–ï¼ˆåŸ‹ç‚¹æ•°æ®å†™å…¥äº‘æ•°æ®åº“ï¼‰
   * ========================================== */
  (async function initCloudBase() {
    try {
      const app = cloudbase.init({
        env: 'mengchong-dev-6g4qar062ad266bc'
      });
      const auth = app.auth({ persistence: 'local' });
      await auth.signInAnonymously();
      _cbDb = app.database();
      console.log('[CloudBase] åˆå§‹åŒ–æˆåŠŸï¼ŒåŒ¿åç™»å½•å®Œæˆ');
    } catch(e) {
      console.warn('[CloudBase] åˆå§‹åŒ–å¤±è´¥ï¼ŒåŸ‹ç‚¹å°†ä»…æ‰“å°åˆ°æ§åˆ¶å°', e);
    }
  })();

  /* ==========================================
   * å…¨å±€çŠ¶æ€
   * ========================================== */
  let idx = -1;                                       // å½“å‰é¢˜ç›®ç´¢å¼•ï¼ˆ-1=æœªå¼€å§‹ï¼‰
  let score = {E:0,I:0,S:0,N:0,T:0,F:0,J:0,P:0};   // ç»´åº¦åˆ†æ•°
  let finalType = "";                                  // è®¡ç®—å‡ºçš„ MBTI ç±»å‹
  let isTransitioning = false;                         // é˜²æ­¢åˆ‡é¢˜åŠ¨ç”»æœŸé—´é‡å¤ç‚¹å‡»
  let hasShownWecomModal = false;                      // ç¡®ä¿ä¼å¾®å¼¹çª—åªå¼¹ä¸€æ¬¡
  let avatarUploaded = false;                           // æœ¬æ¬¡ä¼šè¯æ˜¯å¦å·²ä¸Šä¼ å¤´åƒ
  const AVATAR_KEY = "dog_mbti_avatar";
  const DEFAULT_AVATAR = "touxiang.png.jpg";
  const UNLOCK_KEY = "dog_mbti_unlocked";              // è§£é”çŠ¶æ€å­˜å‚¨é”®
  let unlockCountdownTimer = null;                     // å€’è®¡æ—¶å®šæ—¶å™¨

  // 16ç§ç±»å‹ä¸“å±ä¸»é¢˜è‰²ï¼ˆè½»é‡ç‚¹ç¼€ï¼šç±»å‹å¤§å­—+å¤´åƒè¾¹æ¡†ï¼‰
  const typeColors = {
    ENFP:'#FF8C42', ENFJ:'#FF6B8A', ENTP:'#5CB8FF', ENTJ:'#C94040',
    ESFP:'#FFB627', ESFJ:'#FF7EB3', ESTP:'#FF6542', ESTJ:'#4A7C59',
    INFP:'#B088F9', INFJ:'#6C8EBF', INTP:'#5B9A8B', INTJ:'#4A5568',
    ISFP:'#E88DB4', ISFJ:'#F4A460', ISTP:'#708090', ISTJ:'#8B7355',
  };

  // 16é¢˜ï¼šæ¯ä¸ªç»´åº¦4é¢˜ï¼ˆæ¯›å­©å­å‘ï¼‰â€” ä¼˜åŒ–ç‰ˆï¼šæ›´å¼ºç”»é¢æ„Ÿ+æ›´å£è¯­åŒ–

  // ç»´åº¦ï¼šE/I, S/N, T/F, J/P
  const questions = [
    // === E/Iï¼ˆç¤¾äº¤èƒ½é‡ï¼‰===
    { id:"E1", dim:"EI", q:"å®¶é‡Œæ¥äº†æ–°å®¢äººï¼ŒTAé€šå¸¸ï¼š", A:"å°¾å·´æ‘‡æˆèºæ—‹æ¡¨ï¼Œå†²è¿‡å»é—»ä¸ªé", B:"å…ˆè¿œè¿œçœ‹ç€ï¼Œç¡®è®¤æ²¡å±é™©å†æ…¢æ…¢é è¿‘", scoreA:{E:1}, scoreB:{I:1}},
    { id:"E2", dim:"EI", q:"æ•£æ­¥æ—¶é‡åˆ°åˆ«çš„æ¯›å­©å­ï¼ŒTAæ›´åƒï¼š", A:"ç›´æ¥å‡‘ä¸Šå»ï¼Œé¼»å­æ€¼é¼»å­æ‰“æ‹›å‘¼", B:"è´´ç€ä½ èµ°ï¼Œå½“ä½œæ²¡çœ‹è§", scoreA:{E:1}, scoreB:{I:1}},
    { id:"E3", dim:"EI", q:"ä½ å‡ºé—¨å›æ¥æ¨å¼€é—¨çš„é‚£ä¸€åˆ»ï¼ŒTAï¼š", A:"åƒè£…äº†å¼¹ç°§ä¸€æ ·å¼¹è¿‡æ¥ï¼Œè½¬åœˆ+å“¼å”§+å…¨èº«æ‰­åŠ¨", B:"æŠ¬çœ¼çœ‹ä½ ä¸€ä¸‹ï¼Œå°¾å·´æ…¢æ…¢æ‘‡ä¸¤ä¸‹ï¼Œç­‰ä½ è¿‡æ¥", scoreA:{E:1}, scoreB:{I:1}},
    { id:"E4", dim:"EI", q:"åœ¨ä¸€ä¸ªé™Œç”Ÿçš„åœ°æ–¹ï¼ˆæ¯”å¦‚æœ‹å‹å®¶ï¼‰ï¼ŒTAæ›´åƒï¼š", A:"è¶Šçƒ­é—¹è¶Šæ¥åŠ²ï¼Œæ»¡åœºå·¡è§†äº¤æœ‹å‹", B:"æ‰¾ä¸ªè§’è½è¶´ç€ï¼Œä½ åœ¨æ—è¾¹å®ƒæ‰å®‰å¿ƒ", scoreA:{E:1}, scoreB:{I:1}},
    // === S/Nï¼ˆæ„ŸçŸ¥æ–¹å¼ï¼‰===
    { id:"S1", dim:"SN", q:"å¸¦TAå»ä¸€ä¸ªæ²¡æ¥è¿‡çš„å…¬å›­ï¼ŒTAä¼šï¼š", A:"æ¯æ£µæ ‘ã€æ¯æ ¹ç”µçº¿æ†éƒ½è¦é—»ä¸€éï¼Œä¸æ”¾è¿‡ä»»ä½•è§’è½", B:"å››å¤„å¼ æœ›å‡ ç§’ï¼Œç„¶åç›´å¥”çœ‹èµ·æ¥æœ€å¥½ç©çš„åœ°æ–¹", scoreA:{S:1}, scoreB:{N:1}},
    { id:"S2", dim:"SN", q:"ç»™TAä¸€ä¸ªä»æ²¡è§è¿‡çš„æ–°ç©å…·ï¼š", A:"å…ˆé—»é—»ã€èˆ”èˆ”ã€å°å¿ƒç¿¼ç¿¼åœ°è¯•å’¬ï¼Œæ‘¸ç´¢ç€ç©", B:"ç›´æ¥å¼èµ·æ¥ç”©ã€è¸©ã€æ‰”â€¦â€¦è‡ªåˆ›ä¸€å¥—ç©æ³•", scoreA:{S:1}, scoreB:{N:1}},
    { id:"S3", dim:"SN", q:"ä½ æ‹¿äº†ä¸€æ ·TAæ²¡è§è¿‡çš„ä¸œè¥¿ï¼ˆæ¯”å¦‚æ–°åŒ…è£…çš„é›¶é£Ÿï¼‰ï¼ŒTAä¼šï¼š", A:"æ­ªå¤´ã€å—…æ¢ã€è¯•æ¢æ€§åœ°ç¢°ä¸€ç¢°ï¼Œç¡®è®¤å®‰å…¨æ‰è¡ŒåŠ¨", B:"ç®¡å®ƒæ˜¯å•¥å‘¢â€”â€”å…ˆå¼èµ°/æ‰‘ä¸Šå»å†è¯´", scoreA:{S:1}, scoreB:{N:1}},
    { id:"S4", dim:"SN", q:"ä½ æŠŠTAçš„é£Ÿç›†/çªæŒªäº†ä¸ªä½ç½®ï¼ŒTAä¼šï¼š", A:"ä¸€è¿›æˆ¿é—´å°±å‘ç°äº†ï¼šå’¦æ€ä¹ˆå˜äº†ï¼Ÿï¼Ÿ", B:"éšä¾¿å§ï¼Œåæ­£æ‰¾åˆ°å°±è¡Œ", scoreA:{S:1}, scoreB:{N:1}},
    // === T/Fï¼ˆå†³ç­–åå¥½ï¼‰===
    { id:"T1", dim:"TF", q:"ä½ ä¸¥å‰åœ°å¯¹TAè¯´'ä¸è¡Œï¼'ï¼ŒTAæ›´åƒï¼š", A:"åœä¸‹æ¥ç›¯ç€ä½ ï¼Œå¥½åƒåœ¨åˆ¤æ–­'è¿™æ¡è§„çŸ©åˆ°åº•ç®—ä¸ç®—æ•°'", B:"è€³æœµä¸€è€·ï¼Œçœ¼ç¥å˜å§”å±ˆï¼Œå¥½åƒä½ ä¼¤äº†å®ƒçš„å¿ƒ", scoreA:{T:1}, scoreB:{F:1}},
    { id:"T2", dim:"TF", q:"è¦è®©TAä¹–ä¹–é…åˆåšä¸å¤ªå–œæ¬¢çš„äº‹ï¼ˆæ¯”å¦‚å‰ªæŒ‡ç”²ï¼‰ï¼Œæ›´ç®¡ç”¨çš„æ˜¯ï¼š", A:"åŠ¨ä½œå¹²è„†åˆ©è½+å®Œäº‹ç»™å¥–åŠ±â€”â€”å®ƒè®¤ç»“æœ", B:"å…ˆå“„åŠå¤©+è¯­æ°”æ¸©æŸ”â€”â€”å®ƒåƒæ°›å›´", scoreA:{T:1}, scoreB:{F:1}},
    { id:"T3", dim:"TF", q:"ä½ å¿ƒæƒ…ä½è½çªåœ¨æ²™å‘ä¸Šï¼ŒTAæ›´å¸¸ï¼š", A:"å¼æ¥ç©å…·å¡ä½ æ‰‹é‡Œï¼Œç”¨è¡ŒåŠ¨æ‹‰ä½ èµ·æ¥", B:"å®‰é™è¶´åœ¨ä½ è…¿è¾¹ï¼Œå¤´æ­ä¸Šæ¥ï¼Œå¶å°”æŠ¬çœ¼çœ‹çœ‹ä½ ", scoreA:{T:1}, scoreB:{F:1}},
    { id:"T4", dim:"TF", q:"åˆ«çš„æ¯›å­©å­æŠ¢äº†TAçš„ç©å…·ï¼ŒTAæ›´å¯èƒ½ï¼š", A:"å¯¸æ­¥ä¸è®©ï¼šæˆ‘çš„å°±æ˜¯æˆ‘çš„ï¼Œè°¢è°¢", B:"é€€ä¸€æ­¥çœ‹çœ‹ä½ ï¼Œå¥½åƒåœ¨è¯´'ä½ ç®¡ç®¡å•Š'", scoreA:{T:1}, scoreB:{F:1}},
    // === J/Pï¼ˆç”Ÿæ´»æ–¹å¼ï¼‰===
    { id:"J1", dim:"JP", q:"æ—¥å¸¸ä½œæ¯ä¸Šï¼ŒTAæ›´åƒï¼š", A:"æ¯”é—¹é’Ÿè¿˜å‡†ï¼šåˆ°ç‚¹è¹²é£Ÿç›†ï¼Œåˆ°ç‚¹è¶´çª", B:"éšç¼˜ï¼šæœ‰æ—¶å€™åŠå¤œå—¨ï¼Œæœ‰æ—¶å€™é¥­éƒ½æ‡’å¾—åƒ", scoreA:{J:1}, scoreB:{P:1}},
    { id:"J2", dim:"JP", q:"ä½ æ‹¿å‡ºç‰µå¼•ç»³å‡†å¤‡å‡ºé—¨ï¼ŒTAé€šå¸¸ï¼š", A:"ä¸¤ç§’å†…å†²åˆ°é—¨å£ï¼Œåå¥½ç­‰ç€ï¼Œè“„åŠ¿å¾…å‘", B:"çœ‹å¿ƒæƒ…ï¼šæœ‰æ—¶é£å¥”è¿‡æ¥ï¼Œæœ‰æ—¶è¶´ç€ä¸åŠ¨è£…æ­»", scoreA:{J:1}, scoreB:{P:1}},
    { id:"J3", dim:"JP", q:"ç©'å¼å›æ¥'ä¹‹ç±»çš„æ¸¸æˆï¼ŒTAæ›´åƒï¼š", A:"æŒ‰æµç¨‹èµ°ï¼šå¼æ¥-æ”¾ä¸‹-å†æ¥ï¼Œå¾ªç¯åˆ°åº•", B:"å¼äº†å°±è·‘ã€ä¸­é€”æ”¹é“ã€çªç„¶æŒ–åœŸâ€¦â€¦è§„åˆ™æ˜¯å•¥ï¼Ÿ", scoreA:{J:1}, scoreB:{P:1}},
    { id:"J4", dim:"JP", q:"å‡ºé—¨é›å¼¯çš„è·¯çº¿æ¢äº†ï¼ŒTAæ›´åƒï¼š", A:"æœ‰ç‚¹æ‡µï¼šæ€ä¹ˆä¸èµ°è€è·¯äº†ï¼Ÿå¾®å¾®ä¸çˆ½", B:"å°¾å·´æ‘‡å¾—æ›´æ¬¢ï¼šæ–°è·¯=æ–°çš„ä¸–ç•Œï¼", scoreA:{J:1}, scoreB:{P:1}}
  ];

  // 16å‹ç»“æœåº“ï¼ˆä¸­æ–‡å+é‡‘å¥+å»ºè®®+æ ‡ç­¾ï¼‰
  const results = {
    "ENFP": { name:"å¿«ä¹æ°¸åŠ¨æœº", rarity:8, line:"å…¨ä¸–ç•Œéƒ½æ˜¯å®ƒæœ‹å‹ï¼Œå°±æ˜¯ç”µé‡æ‰å¾—å¤ªå¿«ã€‚", tags:["ç¤¾äº¤è¾¾äºº","é«˜å…´å¥‹","éœ€è¦æ”¾ç”µ"],
      monologue:"æˆ‘çŸ¥é“æˆ‘å¤ªåµäº†ï¼Œä½†çœ‹åˆ°ä½ æˆ‘å°±æ§åˆ¶ä¸ä½â€”â€”ä½ æ˜¯æˆ‘æ¯å¤©æœ€æœŸå¾…çš„äººå•Šã€‚æœ‰æ—¶å€™æˆ‘ä¹Ÿä¼šç´¯ï¼Œä½†åªè¦ä½ è¿˜æ„¿æ„é™ªæˆ‘ç©ï¼Œæˆ‘å°±è¿˜èƒ½å†å—¨ä¸€ä¼šå„¿ã€‚",
      tips:["æ¯å¤©ä¸¤æ¬¡é«˜è´¨é‡æ”¾ç”µï¼ˆå—…é—»+è¿½é€ï¼‰","ç¤¾äº¤è¦ã€Œæœ‰è¾¹ç•Œã€ï¼Œé¿å…è¿‡åº¦åˆºæ¿€","è®­ç»ƒçŸ­é¢‘å¿«ï¼Œå¤šç”¨å¥–åŠ±"],
      bubbles:["çƒ­æƒ…","å¥½å¥‡","æ´»åŠ›","åˆ›æ„","ä¹è§‚","çˆ±ç¤¾äº¤","è‡ªç”±"],
      profile:{
        traits:["å¤©ç”Ÿç¤¾äº¤è¾¾äººï¼Œå¯¹æ‰€æœ‰äººå’ŒåŠ¨ç‰©éƒ½å……æ»¡çƒ­æƒ…","ç²¾åŠ›å……æ²›åˆ°è®©ä½ æ€€ç–‘å®ƒè£…äº†é©¬è¾¾","æƒ…ç»ªå…¨å†™åœ¨è„¸ä¸Šï¼Œå¼€å¿ƒå°±è¹¦è·¶ï¼Œä½è½å°±è¶´çª"],
        behaviors:["è§åˆ°äººå°±å…´å¥‹æ‘‡å°¾å·´ï¼Œæ¨ä¸å¾—å…¨ä¸–ç•Œéƒ½æ˜¯æœ‹å‹","ç©å…·ç©ä¸¤åˆ†é’Ÿå°±æƒ³æ‰¾æ–°çš„ï¼Œæ³¨æ„åŠ›è·³è·ƒå¼è½¬ç§»","æ•£æ­¥æ—¶ä»€ä¹ˆéƒ½æƒ³é—»ä¸€é—»ã€çœ‹ä¸€çœ‹ï¼Œèµ°èµ°åœåœ"],
        innerVsOuter:{inner:["å¥½ç´¯å•Šâ€¦ä½†ä½ åœ¨ç¬‘è¯¶ï¼Œé‚£æˆ‘å†å—¨ä¸€ä¼šå„¿ï¼","è¿™ä¸ªäººå¥½åƒä¸å–œæ¬¢æˆ‘â€¦ç®—äº†ä¸‹ä¸€ä¸ªï¼","æˆ‘ä¹Ÿæƒ³å®‰é™ï¼Œä½†å°¾å·´å®ƒä¸å¬è¯å•Šï¼"],outer:["æ˜æ˜åˆšè¶´ä¸‹ä¸‰ç§’åˆå¼¹èµ·æ¥æ‰‘äºº","è¢«å†·è½åç«‹åˆ»è½¬å¤´æ‰¾ä¸‹ä¸€ä¸ªè·¯äººç¤¾äº¤","ç´¯åˆ°æ‰“å“ˆæ¬ è¿˜åœ¨æ‘‡å°¾å·´è¿å®¢"]}
      },
      guide:{
        relationship:["æ¯å¤©å›ºå®šäº’åŠ¨æ—¶é—´ï¼Œæ»¡è¶³å®ƒæ—ºç››çš„ç¤¾äº¤éœ€æ±‚","ç»™äºˆæ­£é¢åé¦ˆå’Œé¼“åŠ±ï¼Œå®ƒé è®¤å¯é©±åŠ¨"],
        feeding:["å°‘é‡å¤šé¤ï¼Œè¿åŠ¨é‡å¤§éœ€è¦å……è¶³è›‹ç™½è´¨","æ³¨æ„ä½“é‡ç®¡ç†ï¼Œå…´å¥‹çŠ¶æ€ä¸‹åˆ«å–‚é›¶é£Ÿ"],
        toys:["ç›Šæ™ºç±»ç©å…·è½®æ¢ä½¿ç”¨ï¼Œä¿æŒæ–°é²œæ„Ÿ","æ‹”æ²³ã€é£ç›˜ç­‰äº’åŠ¨å‹æ¸¸æˆæœ€åˆé€‚","å—…é—»å«å’Œè—é£Ÿæ¸¸æˆæ¶ˆè€—è„‘åŠ›"],
        emotion:["æƒ…ç»ªä½è½æ—¶å¤šé™ªä¼´ã€å¤šæŠšæ‘¸å°±å¥½","è¿‡åº¦å…´å¥‹æ—¶ç”¨'åä¸‹'æŒ‡ä»¤å¸®å®ƒå†·é™"]
      }},
    "ENFJ": { name:"è´´å¿ƒå“„å“„å®˜", rarity:5, line:"ä½ è¿˜æ²¡å¼€å£ï¼Œå®ƒå°±çŸ¥é“ä½ ä¸å¼€å¿ƒäº†ã€‚", tags:["æƒ…ç»ªæ„ŸçŸ¥","ç²˜äººæš–å¿ƒ","é…åˆåº¦é«˜"],
      monologue:"ä½ ä»¥ä¸ºæˆ‘åœ¨æ’’å¨‡ï¼Œå…¶å®æˆ‘åœ¨ç¡®è®¤ä½ å¼€ä¸å¼€å¿ƒã€‚ä½ ç¬‘äº†æˆ‘å°±å®‰å¿ƒäº†ï¼Œä½ å¹æ°”äº†æˆ‘å°±æƒ³é è¿‡å»â€”â€”å› ä¸ºä½ éš¾è¿‡çš„æ—¶å€™ï¼Œæˆ‘ä¹Ÿéš¾è¿‡ã€‚",
      tips:["å¤šç”¨å¤¸å¥–ä¸æŠšæ‘¸å»ºç«‹å®‰å…¨æ„Ÿ","å®‰æ’ç¨³å®šç¤¾äº¤ï¼šç†Ÿäºº+å›ºå®šåœºåœ°","ç»™å®ƒä¸€ä¸ªã€Œé™ªä¼´å²—ä½ã€ï¼ˆå¦‚é—¨å£è¿æ¥ï¼‰"],
      bubbles:["å…±æƒ…","æ¸©æš–","å¿ è¯š","ä½“è´´","æ•é”","å®ˆæŠ¤"],
      profile:{
        traits:["å¤©ç”Ÿçš„æƒ…ç»ªæ„ŸçŸ¥å™¨ï¼Œèƒ½è¯»æ‡‚ä½ çš„å–œæ€’å“€ä¹","å–œæ¬¢ç…§é¡¾å®¶é‡Œæ¯ä¸ªäººï¼Œåƒä¸ªå°ç®¡å®¶","ç¤¾äº¤åœºåˆçš„æ°›å›´æ‹…å½“ï¼Œè°éƒ½æƒ³è·Ÿå®ƒç©"],
        behaviors:["ä½ éš¾è¿‡æ—¶ä¼šä¸»åŠ¨é è¿‡æ¥è¹­è¹­ä½ ","å®¶é‡Œæœ‰äººåµæ¶å®ƒä¼šç„¦è™‘ä¸å®‰","å‡ºé—¨æ€»è¦ç¡®è®¤æ‰€æœ‰å®¶äººéƒ½åœ¨æ‰å®‰å¿ƒ"],
        innerVsOuter:{inner:["ä½ å¹æ°”äº†â€¦æ˜¯ä¸æ˜¯æˆ‘åšé”™äº†ä»€ä¹ˆï¼Ÿ","æˆ‘è¦æŠŠå…¨å®¶äººéƒ½ç…§é¡¾å¥½ï¼Œä¸€ä¸ªéƒ½ä¸èƒ½å°‘ï¼","ä½ å¤¸æˆ‘äº†ï¼ä»Šå¤©å¯ä»¥å¼€å¿ƒåˆ°ç¡ç€ï¼"],outer:["ä½ å¹æ°”æ—¶å®ƒç«‹åˆ»å‡‘è¿‡æ¥è¹­ä½ çš„æ‰‹","å®¶é‡Œæœ‰äººæ²¡åˆ°é½å°±ç„¦è™‘åœ°æ¥å›èµ°","è¢«è¡¨æ‰¬åå¾—æ„åœ°æ‘‡å°¾å·´ç‚«è€€ä¸€åœˆ"]}
      },
      guide:{
        relationship:["å¤šå¤¸å¥–ã€å¤šæŠšæ‘¸ï¼Œå®ƒéœ€è¦æŒç»­çš„æ­£é¢åé¦ˆ","ç»™å®ƒä¸€ä¸ª'å²—ä½'ï¼ˆå¦‚è¿æ¥ã€å·¡é€»ï¼‰ï¼Œå¢åŠ ä»·å€¼æ„Ÿ"],
        feeding:["å®šæ—¶å®šé‡ï¼Œå®ƒå–œæ¬¢ç¨³å®šçš„ç”Ÿæ´»èŠ‚å¥","å¯ä»¥ç”¨å–‚é£Ÿæ—¶é—´åšç®€å•è®­ç»ƒ"],
        toys:["å–œæ¬¢å’Œä¸»äººä¸€èµ·ç©çš„äº’åŠ¨ç©å…·","é€‚åˆæŸ”è½¯çš„é™ªä¼´å‹ç©å¶","å¯»å›ç±»æ¸¸æˆæœ€èƒ½è®©å®ƒå¼€å¿ƒ"],
        emotion:["é¿å…åœ¨å®ƒé¢å‰æ¿€çƒˆäº‰åµï¼Œå®ƒä¼šå†…åŒ–è´Ÿé¢æƒ…ç»ª","åˆ†ç¦»ç„¦è™‘è¾ƒå¼ºï¼Œå‡ºé—¨å‰ç»™å®‰æŠšä»ªå¼"]
      }},
    "ENTP": { name:"æ‹†å®¶é¬¼æ‰", rarity:6, line:"èªæ˜åˆ°å¯æ€•ï¼Œé—²ç€å°±æƒ³æäº‹æƒ…ã€‚", tags:["é«˜æ™ºå•†","å¥½å¥‡å¿ƒ","çˆ±æŒ‘æˆ˜"],
      monologue:"ä½ è¯´æˆ‘åœ¨æ‹†å®¶ï¼Œä½†å…¶å®æˆ‘åœ¨åšå®éªŒã€‚è¿™ä¸ªæ²™å‘å«åˆ°åº•æœ‰å‡ å±‚ï¼Ÿæˆ‘èŠ±äº†ä¸€ä¸‹åˆç»ˆäºææ¸…æ¥šäº†ã€‚ä½ åº”è¯¥è¡¨æ‰¬æˆ‘æ‰å¯¹ã€‚",
      tips:["ç”¨ç›Šæ™ºç©å…·/å¯»å®æ¸¸æˆæ¶ˆè€—è„‘åŠ›","è®­ç»ƒå¢åŠ éš¾åº¦ï¼šå˜æ¢åœºæ™¯/å¹²æ‰°","å®¶é‡Œåšå¥½é˜²å’¬ä¸æ›¿ä»£ç‰©ï¼ˆå’¬èƒ¶ï¼‰"],
      bubbles:["èªæ˜","è°ƒçš®","æ¢ç´¢","æœºçµ","æŒ‘æˆ˜","åˆ›é€ ","å¤§èƒ†"],
      profile:{
        traits:["æ™ºå•†åœ¨çº¿ï¼Œå­¦ä¸œè¥¿ç‰¹åˆ«å¿«ä½†ä¹Ÿç‰¹åˆ«ä¼šé’»ç©ºå­","å¥½å¥‡å¿ƒçˆ†æ£šï¼Œä»€ä¹ˆéƒ½è¦ç ”ç©¶ä¸€ç•ª","ç²¾åŠ›æ—ºç››ï¼Œæ— èŠå°±å¼€å§‹'åˆ›é€ æ€§ç ´å'"],
        behaviors:["èƒ½è‡ªå·±å¼€é—¨ã€ç¿»åƒåœ¾æ¡¶ï¼Œè§£é”å„ç§æœºå…³","è®­ç»ƒæ—¶æ•…æ„è¯•æ¢ä½ çš„åº•çº¿","å¯¹æ–°äº‹ç‰©æ°¸è¿œä¿æŒé«˜åº¦å…´è¶£"],
        innerVsOuter:{inner:["è¿™ä¸ªæ²™å‘å«æœ‰å‡ å±‚ï¼Ÿæˆ‘å¾—äº²è‡ªéªŒè¯ä¸€ä¸‹","ä½ è¯´ä¸è¡Œï¼Ÿé‚£æˆ‘æ¢ä¸ªæ–¹æ³•å†è¯•è¯•ï¼","ä½ å¤¸æˆ‘èªæ˜çš„æ—¶å€™æˆ‘å°¾å·´è½¬å¾—æœ€å¿«ï¼"],outer:["æ²™å‘å«è¢«ç²¾å‡†æ‹†æˆä¸‰å±‚ç åœ¨åœ°ä¸Š","è¢«è®­æ–¥åæ¢äº†ä¸ªæ–¹å¼ç»§ç»­æç ´å","è§£å¼€æ–°ç›Šæ™ºç©å…·åéª„å‚²åœ°å¼æ¥çŒ®å®"]}
      },
      guide:{
        relationship:["ç»™å®ƒè¶³å¤Ÿçš„è„‘åŠ›æŒ‘æˆ˜ï¼Œæ— èŠæ˜¯æ‹†å®¶çš„æ ¹æº","è®­ç»ƒæ—¶å¤šå˜èŠ±æ ·ï¼Œé‡å¤å¤ªå¤šå®ƒä¼šç½¢å·¥"],
        feeding:["ç”¨æ¼é£Ÿçƒå’Œå—…é—»å«å¢åŠ è¿›é£Ÿéš¾åº¦","è—é£Ÿæ¸¸æˆæ¯”ç›´æ¥å–‚æ›´èƒ½æ»¡è¶³å®ƒ"],
        toys:["ç›Šæ™ºç©å…·æ˜¯é¦–é€‰ï¼Œè¶Šéš¾è¶Šå¥½","Kongç±»å¡«å……ç©å…·æ¶ˆç£¨æ—¶é—´","å®šæœŸæ›´æ¢ç©å…·ä¿æŒæ–°é²œæ„Ÿ"],
        emotion:["å®ƒçš„'æ‹†å®¶'ä¸æ˜¯æŠ¥å¤ï¼Œæ˜¯æ— èŠçš„ä¿¡å·","ç»™è¶³è¿åŠ¨å’Œè„‘åŠ›æ¶ˆè€—ï¼Œé—®é¢˜è¡Œä¸ºè‡ªç„¶å‡å°‘"]
      }},
    "ENTJ": { name:"é“è…•å°é˜Ÿé•¿", rarity:4, line:"åˆ«é—®è°æ˜¯å®¶é‡Œè€å¤§ï¼Œé—®å°±æ˜¯å®ƒã€‚", tags:["å¼ºç›®æ ‡","æ‰§è¡ŒåŠ›","ä¸»å¯¼å‹"],
      monologue:"æˆ‘ä¸æ˜¯éœ¸é“ï¼Œæˆ‘åªæ˜¯è§‰å¾—è¿™ä¸ªå®¶éœ€è¦äººç®¡ï¼Œè€Œæˆ‘æœ€é€‚åˆã€‚ä½ åˆ«ä¸æœï¼Œæƒ³æƒ³æ˜¯è°æ¯å¤©å‡†æ—¶å«ä½ èµ·åºŠçš„ï¼Ÿ",
      tips:["è§„åˆ™ä¸€è‡´ï¼Œå£ä»¤ç»Ÿä¸€ï¼ˆå®¶é‡Œæ‰€æœ‰äººï¼‰","ç”¨ä»»åŠ¡é©±åŠ¨ï¼šåä¸‹â†’ç­‰å¾…â†’å¥–åŠ±","æ—©æœŸç¤¾äº¤è®­ç»ƒé¿å…å†²çªå‡çº§"],
      bubbles:["è‡ªä¿¡","æœæ–­","é¢†å¯¼","å¼ºåŠ¿","å¿ è¯š","ç›®æ ‡"],
      profile:{
        traits:["å¤©ç”Ÿé¢†å¯¼è€…ï¼Œå®¶é‡Œçš„'è€å¤§'éå®ƒè«å±","ç›®æ ‡æ„Ÿæå¼ºï¼Œä¸€æ—¦ç›¯ä¸Šä»€ä¹ˆéè¾¾æˆä¸å¯","è§„åˆ™æ„è¯†å¼ºï¼Œè®¨åŒæœä»¤å¤•æ”¹"],
        behaviors:["æ•£æ­¥æ—¶èµ°åœ¨å‰é¢å¸¦è·¯ï¼Œæœ‰è‡ªå·±çš„å·¡é€»è·¯çº¿","å¯¹å®¶åº­æˆå‘˜æœ‰æ˜ç¡®çš„'ç­‰çº§æ’åº'","è®­ç»ƒé…åˆåº¦é«˜ä½†å‰ææ˜¯å®ƒè®¤å¯ä½ çš„æƒå¨"],
        innerVsOuter:{inner:["è¿™ä¸ªå®¶æ²¡æˆ‘ç®¡çœŸçš„ä¸è¡Œ","ä½ äº¤ç»™æˆ‘çš„ä»»åŠ¡æˆ‘ä¸€å®šå®Œæˆï¼","å…¶å®â€¦æˆ‘å°±æƒ³è®©ä½ è§‰å¾—æˆ‘é å¾—ä½"],outer:["æ•£æ­¥æ—¶æ°¸è¿œèµ°åœ¨æœ€å‰é¢å¸¦è·¯","è®­ç»ƒæ—¶ä¸€è„¸è®¤çœŸåƒä¸ªæ‰§è¡Œä»»åŠ¡çš„å£«å…µ","å®ŒæˆæŒ‡ä»¤åæ˜‚ç€å¤´ç­‰ä½ ç¡®è®¤å’Œè¡¨æ‰¬"]}
      },
      guide:{
        relationship:["è§„åˆ™ä¸€è‡´ï¼Œå…¨å®¶ç»Ÿä¸€å£ä»¤å’Œæ ‡å‡†","ç”¨ä»»åŠ¡é©±åŠ¨å®ƒï¼š'åä¸‹â†’ç­‰å¾…â†’å¥–åŠ±'çš„é“¾æ¡æœ€æœ‰æ•ˆ"],
        feeding:["å›ºå®šæ—¶é—´å›ºå®šåœ°ç‚¹ï¼Œå®ƒå–œæ¬¢ç§©åºæ„Ÿ","å¯ä»¥ç”¨ç­‰å¾…æŒ‡ä»¤è®­ç»ƒè¿›é£Ÿè§„çŸ©"],
        toys:["ä»»åŠ¡å‹ç©å…·ï¼šå¯»å›ã€å®šç‚¹ã€éšœç¢è·‘","éœ€è¦æœ‰'ç›®æ ‡'çš„æ¸¸æˆæ‰æœ‰å…´è¶£","é€‚åˆæ­£è§„è®­ç»ƒè¯¾ç¨‹"],
        emotion:["å°Šé‡å®ƒçš„é¢†åœ°æ„è¯†ï¼Œåˆ«éšæ„æ”¹å˜ç¯å¢ƒ","ç¤¾äº¤å†²çªæ—¶å…ˆ'åä¸‹å†·é™'å†å¤„ç†"]
      }},
    "ESFP": { name:"æ°”æ°›å—¨ç‹", rarity:9, line:"å®ƒçš„å¿«ä¹ç®€å•ç²—æš´ï¼šæœ‰äººã€æœ‰çƒã€æœ‰ä½ å°±å¤Ÿã€‚", tags:["å¤–å‘","çˆ±ç©","é«˜äº’åŠ¨"],
      monologue:"ç”Ÿæ´»å·²ç»å¤Ÿç´¯äº†ï¼Œä¸ºä»€ä¹ˆä¸å¼€å¿ƒä¸€ç‚¹å‘¢ï¼Ÿä½ çœ‹æˆ‘å°±å¾ˆç®€å•â€”â€”æœ‰ä½ ã€æœ‰çƒã€æœ‰å¤ªé˜³ï¼Œå°±æ˜¯å®Œç¾çš„ä¸€å¤©ã€‚",
      tips:["å¤šå®‰æ’äº’åŠ¨æ¸¸æˆï¼šé£ç›˜/æ‹”æ²³ï¼ˆæœ‰è§„åˆ™ï¼‰","é¿å…è¿‡åº¦å…´å¥‹ï¼šç©å‰å…ˆåä¸‹ç­‰å¾…","ç¤¾äº¤åç»™å®‰é™ä¼‘æ¯æ—¶é—´"],
      bubbles:["å¿«ä¹","æ´»æ³¼","çƒ­é—¹","å‹å–„","å³å…´","äº«ä¹"],
      profile:{
        traits:["å¿«ä¹æ˜¯å®ƒå”¯ä¸€çš„ç”Ÿæ´»ç›®æ ‡","å¯¹æ‰€æœ‰äººéƒ½å‹å–„ï¼Œæ²¡æœ‰é˜²å¤‡å¿ƒ","æ´»åœ¨å½“ä¸‹ï¼Œä»ä¸ä¸ºæ˜å¤©å‘æ„"],
        behaviors:["çœ‹åˆ°çƒå°±ç–¯ï¼Œçœ‹åˆ°äººå°±æ‘‡å°¾å·´","ç©åˆ°ç´¯ä¹Ÿä¸è‚¯åœï¼Œéœ€è¦ä½ å¸®å®ƒåˆ¹è½¦","æ´¾å¯¹ä¸Šçš„æ°”æ°›ç‹ï¼Œè°è§äº†éƒ½å–œæ¬¢"],
        innerVsOuter:{inner:["æœ‰çƒï¼æœ‰äººï¼ä»Šå¤©ä¹Ÿæ˜¯æ»¡åˆ†çš„ä¸€å¤©ï¼","å¥½ç´¯â€¦ä½†å¤§å®¶éƒ½åœ¨çœ‹æˆ‘ï¼Œä¸èƒ½åœï¼","ä½ ç¬‘äº†ï¼æ‰€ä»¥æˆ‘åˆšæ‰çš„è¡¨æ¼”æˆåŠŸäº†ï¼"],outer:["çœ‹åˆ°çƒç¬é—´å¼¹å°„å‡ºå»åƒè£…äº†å¼¹ç°§","ç©åˆ°èˆŒå¤´æ‹–åœ°è¿˜ä¸è‚¯å›å®¶","åœ¨ç‹—å‹é¢å‰è¡¨æ¼”ç¿»æ»šé€—å¾—å…¨åœºå¤§ç¬‘"]}
      },
      guide:{
        relationship:["ç”¨äº’åŠ¨æ¸¸æˆæ»¡è¶³å®ƒæ—ºç››çš„ç¤¾äº¤æ¬²","è®¾ç«‹'å®‰é™æ—¶é—´'å¸®å®ƒå­¦ä¼šä¼‘æ¯"],
        feeding:["è¿åŠ¨é‡å¤§ï¼Œæ³¨æ„è¡¥å……æ°´åˆ†å’Œè¥å…»","é¿å…è¿‡åº¦å…´å¥‹æ—¶å–‚é£Ÿï¼Œé˜²æ­¢å‘›é£Ÿ"],
        toys:["é£ç›˜ã€çƒç±»ç­‰è¿½é€å‹ç©å…·æœ€çˆ±","æ‹”æ²³ç»³ã€å‘å£°ç©å…·ä¹Ÿå¾ˆåˆé€‚","æ°´ä¸Šç©å…·å¦‚æœå®ƒå–œæ¬¢æ°´çš„è¯"],
        emotion:["å…´å¥‹è¿‡å¤´æ—¶ç”¨'åä¸‹ç­‰å¾…'å¸®å®ƒé™æ¸©","ç¤¾äº¤åç»™å®‰é™ç©ºé—´æ¢å¤"]
      }},
    "ESFJ": { name:"è´´èº«å°å°¾å·´", rarity:10, line:"ä½ ä¸Šå•æ‰€å®ƒè¹²é—¨å£ï¼Œè¿™ç§çˆ±å«ESFJã€‚", tags:["é»äºº","æŠ¤å®¶","å¥½é…åˆ"],
      monologue:"ä½ å‡ºé—¨çš„æ—¶å€™æˆ‘è¶´åœ¨é—¨å£ï¼Œä¸æ˜¯å› ä¸ºæ— èŠï¼Œæ˜¯å› ä¸ºæˆ‘è¦ç¡®è®¤ä½ ä»€ä¹ˆæ—¶å€™å›æ¥ã€‚åªè¦é—¨é”ä¸€å“ï¼Œæˆ‘çš„å°¾å·´å°±ä¸ç”±è‡ªä¸»åœ°æ‘‡äº†ã€‚",
      tips:["ç»™ç¨³å®šä½œæ¯ä¸å›ºå®šä»ªå¼æ„Ÿ","åˆ†ç¦»è®­ç»ƒè¦å¾ªåºæ¸è¿›ï¼ˆçŸ­æ—¶ç¦»å¼€ï¼‰","å¤šåšã€Œé™ªä¼´å‹ä»»åŠ¡ã€æå‡æ»¡è¶³æ„Ÿ"],
      bubbles:["å¿ è¯š","é¡¾å®¶","æ¸©æš–","é»äºº","å®ˆæŠ¤","ç¨³å®š"],
      profile:{
        traits:["å®¶å°±æ˜¯å®ƒçš„å…¨ä¸–ç•Œï¼Œå®¶äººå°±æ˜¯å®ƒçš„ä¸€åˆ‡","è´£ä»»æ„Ÿè¶…å¼ºï¼Œåƒä¸ªæ“å¿ƒçš„è€å¦ˆå­","å–œæ¬¢ç¨³å®šè§„å¾‹çš„ç”Ÿæ´»èŠ‚å¥"],
        behaviors:["ä½ å»å“ªå®ƒè·Ÿå“ªï¼Œä¸Šå•æ‰€ä¹Ÿè¦è¹²é—¨å£","å®¶é‡Œæ¥äººä¼šå«å‡ å£°è¡¨ç¤º'æˆ‘åœ¨å®ˆå®¶'","ç‰¹åˆ«åœ¨æ„å…¨å®¶äººæ˜¯ä¸æ˜¯éƒ½åœ¨"],
        innerVsOuter:{inner:["ä½ è¦å‡ºé—¨äº†â€¦æˆ‘å‡è£…æ²¡çœ‹è§ä½†å¿ƒå·²ç¢","é—¨é”å“äº†ï¼æ˜¯ä½ å›æ¥äº†å—ï¼æ˜¯å—ï¼","å…¨å®¶äººéƒ½åœ¨ï¼Œå¥½ï¼Œæˆ‘å¯ä»¥å®‰å¿ƒè¶´ä¸‹äº†"],outer:["ä½ æ‹¿é’¥åŒ™æ—¶å®ƒé»˜é»˜èµ°åˆ°é—¨å£è¶´ä¸‹","å¬åˆ°å¼€é—¨å£°å†²è¿‡å»å°¾å·´æ‘‡æˆèºæ—‹æ¡¨","ç¡®è®¤æ‰€æœ‰å®¶äººåˆ°é½æ‰å®‰å¿ƒå»å–æ°´"]}
      },
      guide:{
        relationship:["ç»™ç¨³å®šçš„æ—¥å¸¸ä»ªå¼æ„Ÿï¼ˆå›ºå®šæ•£æ­¥ã€å–‚é£Ÿæ—¶é—´ï¼‰","åˆ†ç¦»è®­ç»ƒå¾ªåºæ¸è¿›ï¼Œä»çŸ­æ—¶é—´å¼€å§‹"],
        feeding:["å®šæ—¶å®šé‡æœ€é‡è¦ï¼Œå®ƒè®¨åŒè¢«æ‰“ä¹±èŠ‚å¥","å¯ä»¥ç”¨å–‚é£Ÿä»ªå¼å¢å¼ºå®‰å…¨æ„Ÿ"],
        toys:["é™ªä¼´å‹ç©å¶è®©å®ƒæœ‰å®‰å…¨æ„Ÿ","äº’åŠ¨ç±»ç©å…·å¢è¿›äº²å­å…³ç³»","ä¸é€‚åˆéœ€è¦ç‹¬è‡ªç©çš„å¤æ‚ç›Šæ™ºç©å…·"],
        emotion:["å‡ºé—¨å‰ä¸è¦å¤§å¼ æ——é¼“å‘Šåˆ«ï¼Œä½è°ƒç¦»å¼€","å›å®¶åå…ˆå†·é™å†äº’åŠ¨ï¼Œé¿å…å¼ºåŒ–ç„¦è™‘"]
      }},
    "ESTP": { name:"è¯´èµ°å°±èµ°è½æ’å¼Ÿ", rarity:7, line:"å…ˆå†²äº†å†è¯´â€”â€”åæœæ˜¯ä»€ä¹ˆï¼Ÿä¸é‡è¦ã€‚", tags:["è¡ŒåŠ¨æ´¾","èƒ†å­å¤§","çˆ±æ¢ç´¢"],
      monologue:"æˆ‘çŸ¥é“å‰é¢å¯èƒ½æœ‰å±é™©ï¼Œä½†ä¸‡ä¸€æœ‰å¥½ç©çš„å‘¢ï¼Ÿäººç”Ÿâ€”â€”ä¸å¯¹ï¼Œç‹—ç”Ÿè‹¦çŸ­ï¼Œä¸å†²ä¸€ä¸‹æ€ä¹ˆçŸ¥é“ï¼",
      tips:["å¤–å‡ºä¼˜å…ˆã€Œå—…é—»+æ¢ç´¢ã€å†è®­ç»ƒ","ç”¨ç»³æ§ä¸å›å«å»ºç«‹è¾¹ç•Œ","ç»™å†²åˆºå‹è¿åŠ¨ï¼ˆçŸ­è·‘/è¿½é€ï¼‰"],
      bubbles:["å†’é™©","å‹‡æ•¢","æ´»åŠ›","ç›´è§‰","è‡ªç”±","è¡ŒåŠ¨"],
      profile:{
        traits:["è¡ŒåŠ¨åŠ›è¶…å¼ºï¼Œæƒ³åˆ°å°±åšç»ä¸çŠ¹è±«","èƒ†å­å¤§ï¼Œä»€ä¹ˆéƒ½æ•¢å°è¯•","å¯¹ç¯å¢ƒå˜åŒ–é€‚åº”åŠ›æå¼º"],
        behaviors:["æ•£æ­¥æ—¶å†²åœ¨æœ€å‰é¢ï¼Œé—»åˆ°ä»€ä¹ˆå°±è¿½è¿‡å»","å¯¹æ–°ç¯å¢ƒé›¶ææƒ§ï¼Œåˆ°å“ªéƒ½è‡ªæ¥ç†Ÿ","ååº”é€Ÿåº¦æå¿«ï¼ŒæŠ“çƒæ¥é£ç›˜ä¸€æŠŠå¥½æ‰‹"],
        innerVsOuter:{inner:["å‰é¢æœ‰ä¸œè¥¿ï¼å…ˆå†²äº†å†è¯´ï¼","å—¯â€¦å¥½åƒæœ‰ç‚¹å±é™©ï¼Ÿç®—äº†å…ˆä¸Šå†æƒ³ï¼","é‚£ä¸ªæ°´å‘çœ‹ç€å°±å¾ˆå¥½ç©å•Šå—ä¸äº†äº†ï¼"],outer:["é—»åˆ°å•¥ç›´æ¥æ‹½ç€ç‰µå¼•ç»³ç‹‚å¥”","è·¯è¿‡æ°´å‘æ¯«ä¸çŠ¹è±«ä¸€å¤´æ‰è¿›å»","ç¬¬ä¸€æ¬¡è§çŒ«å°±å†²ä¸Šå»æ‰“æ‹›å‘¼è¢«æŒ "]}
      },
      guide:{
        relationship:["ç”¨ç»³æ§å’Œå›å«è®­ç»ƒå»ºç«‹å®‰å…¨è¾¹ç•Œ","è®©å®ƒå…ˆæ¢ç´¢å†è®­ç»ƒï¼Œæ•ˆæœæ›´å¥½"],
        feeding:["é«˜è¿åŠ¨é‡éœ€è¦å……è¶³è¥å…»æ”¯æ’‘","æˆ·å¤–è®­ç»ƒå¯ä»¥ç”¨é›¶é£Ÿåšå›å«å¥–åŠ±"],
        toys:["è¿½é€å‹ç©å…·ï¼šçƒã€é£ç›˜æœ€çˆ±","å—…é—»å¯»å®æ¶ˆè€—å®ƒçš„æ¢ç´¢æ¬²","é€‚åˆæ•æ·è®­ç»ƒå’Œéšœç¢èµ›"],
        emotion:["é™åˆ¶è‡ªç”±ä¼šè®©å®ƒç„¦èºï¼Œç»™è¶³æˆ·å¤–æ—¶é—´","å…´å¥‹è¿‡å¤´æ—¶ç”¨é£Ÿç‰©å¼•å¯¼æ³¨æ„åŠ›å›æ¥"]
      }},
    "ESTJ": { name:"çºªå¾‹å°è­¦é•¿", rarity:9, line:"è§„çŸ©å°±æ˜¯è§„çŸ©ï¼Œè°æ¥éƒ½ä¸€æ ·ã€‚", tags:["ç¨³å®š","è®²è§„åˆ™","è¾¹ç•Œæ¸…æ™°"],
      monologue:"è¯´å¥½å…«ç‚¹åƒé¥­å°±å…«ç‚¹ï¼Œè¿Ÿåˆ°ä¸€åˆ†é’Ÿæˆ‘å°±ç”¨çœ¼ç¥æé†’ä½ ã€‚ä¸æ˜¯æˆ‘å¤ªä¸¥æ ¼ï¼Œæ˜¯è§„çŸ©å¾—æœ‰äººå®ˆå•Šã€‚",
      tips:["è®­ç»ƒè¦æ ‡å‡†åŒ–ï¼šå£ä»¤+æ‰‹åŠ¿å›ºå®š","é€‚åˆå­¦ä¹ æŠ€å·§ï¼šå®šç‚¹ã€ç­‰å¾…ã€éšè¡Œ","ç¤¾äº¤å†²çªæ—¶å…ˆè®©å®ƒã€Œåä¸‹å†·é™ã€"],
      bubbles:["çºªå¾‹","å¯é ","ä¸¥è°¨","å¿ è¯š","ç§©åº","æ‰§è¡Œ"],
      profile:{
        traits:["å¤©ç”Ÿçš„è§„åˆ™æ‰§è¡Œè€…ï¼Œæœ€è®¨åŒæ··ä¹±","å¯é ç¨³å®šï¼Œæ˜¯å®¶é‡Œæœ€è®©äººçœå¿ƒçš„","å¯¹'è¯¥åšä»€ä¹ˆä¸è¯¥åšä»€ä¹ˆ'æœ‰æ¸…æ™°è®¤çŸ¥"],
        behaviors:["åˆ°ç‚¹åƒé¥­åˆ°ç‚¹æ•£æ­¥ï¼Œè‡ªå·±å°±æ˜¯é—¹é’Ÿ","å®¶é‡Œæœ‰äººè¿è§„å®ƒä¼šç”¨çœ¼ç¥'æé†’'ä½ ","è®­ç»ƒä¸€æ¬¡å°±è®°ä½ï¼Œæ‰§è¡ŒåŠ›æ»¡åˆ†"],
        innerVsOuter:{inner:["å·²ç»å…«ç‚¹é›¶ä¸€åˆ†äº†ä½ æ€ä¹ˆè¿˜ä¸å–‚é¥­ï¼Ÿ","è§„çŸ©å°±æ˜¯è§„çŸ©ï¼Œè°è¿åæˆ‘éƒ½è¦ç®¡","ä»Šå¤©çš„è·¯çº¿æ€ä¹ˆå˜äº†ï¼Ÿæˆ‘ä¸å¤ªå®‰å¿ƒâ€¦"],outer:["åˆ°ç‚¹å‡†æ—¶ååœ¨é¥­ç›†å‰ç”¨çœ¼ç¥å‚¬ä½ ","å®¶äººåšå‡ºæ ¼ä¸¾åŠ¨å®ƒä¼šç›¯ç€çœ‹å‘å‡ºä½å“¼","æ¢äº†æ•£æ­¥è·¯çº¿èµ°å¾—çŠ¹çŠ¹è±«è±«å›å¤´çœ‹ä½ "]}
      },
      guide:{
        relationship:["æ ‡å‡†åŒ–è®­ç»ƒæœ€é€‚åˆå®ƒï¼šå›ºå®šå£ä»¤+æ‰‹åŠ¿","è§„åˆ™ä¸€æ—¦å®šäº†å°±åˆ«è½»æ˜“æ”¹å˜"],
        feeding:["å›ºå®šæ—¶é—´å›ºå®šåœ°ç‚¹å›ºå®šåˆ†é‡ï¼Œå®Œç¾","æœ€é€‚åˆç”¨æ¥åšç­‰å¾…è®­ç»ƒçš„èŒƒä¾‹"],
        toys:["å®šç‚¹å¯»å›ã€éšè¡Œè®­ç»ƒå°±æ˜¯æœ€å¥½çš„æ¸¸æˆ","è§„åˆ™æ˜ç¡®çš„äº’åŠ¨æ¸¸æˆ","é€‚åˆå­¦ä¹ å„ç§é«˜çº§æŠ€å·§"],
        emotion:["ç¯å¢ƒçªå˜ä¼šè®©å®ƒä¸å®‰ï¼Œæå‰é€‚åº”","å®ƒçš„'ç›¯äºº'æ˜¯åœ¨æ„ä¸æ˜¯æ§åˆ¶"]
      }},
    "INFP": { name:"ç»ç’ƒå¿ƒç”œå¿ƒ", rarity:6, line:"å…¨ä¸–ç•Œåªè®¤ä½ ä¸€ä¸ªï¼Œå…¶ä»–äººï¼Ÿä¸ç†Ÿã€‚", tags:["æ•æ„Ÿ","ä¾æ‹","æ…¢çƒ­"],
      monologue:"ä½ ä¸åœ¨çš„æ—¶å€™æˆ‘ä¼šè¶´åœ¨ä½ çš„æ‹–é‹æ—è¾¹ã€‚ä¸æ˜¯å› ä¸ºæ‹–é‹å¥½é—»ï¼Œæ˜¯å› ä¸ºä¸Šé¢æœ‰ä½ çš„å‘³é“ã€‚ä½ å°±æ˜¯æˆ‘çš„å…¨éƒ¨å®‰å…¨æ„Ÿï¼Œä½ çŸ¥é“å—ï¼Ÿ",
      tips:["å‡å°‘å¼ºè¡Œç¤¾äº¤ï¼Œç”¨ã€Œè·ç¦»+å¥–åŠ±ã€å»ºç«‹ä¿¡ä»»","ç»™å®‰å…¨åŒºï¼šçª/ç¬¼/è§’è½","ç”¨æ¸©å’Œè®­ç»ƒæ–¹å¼ï¼Œé¿å…å¤§å£°å‘µæ–¥"],
      bubbles:["æ•æ„Ÿ","æ·±æƒ…","æµªæ¼«","ç»†è…»","å¿ è¯š","æ¸©æŸ”","å†…æ•›"],
      profile:{
        traits:["å†…å¿ƒä¸–ç•Œä¸°å¯Œï¼Œæƒ…æ„Ÿç»†è…»åˆ°ä»¤äººå¿ƒç–¼","åªå¯¹å°‘æ•°äº²è¿‘çš„äººæ•å¼€å¿ƒæ‰‰","å¯¹ç¯å¢ƒå˜åŒ–å’Œæƒ…ç»ªæ°›å›´æåº¦æ•æ„Ÿ"],
        behaviors:["åœ¨ç†Ÿæ‚‰çš„äººé¢å‰æ‰ä¼šå±•ç°æ’’å¨‡ä¸€é¢","é™Œç”Ÿäººé è¿‘ä¼šèº²åˆ°ä½ èº«å","å–œæ¬¢å®‰é™åœ°è¶´åœ¨ä½ è„šè¾¹ï¼Œåªè¦ä½ åœ¨å°±å¥½"],
        innerVsOuter:{inner:["ä½ çš„æ‹–é‹ä¸Šæœ‰ä½ çš„å‘³é“ï¼Œè¶´ç€å°±å®‰å¿ƒäº†","é™Œç”Ÿäººå¥½å¯æ€•â€¦ä½ èƒ½ä¸èƒ½æŠ±æŠ±æˆ‘ï¼Ÿ","åªè¦ä½ åœ¨ï¼Œå…¨ä¸–ç•Œéƒ½æ˜¯å®‰å…¨çš„"],outer:["ä½ å‡ºé—¨åå®ƒå¼ç€ä½ çš„æ‹–é‹è¶´åœ¨çªé‡Œ","é™Œç”Ÿäººé è¿‘ç«‹åˆ»èº²åˆ°ä½ è…¿åé¢","ä½ åä¸‹æ¥å®ƒå°±é»˜é»˜è´´ç€ä½ çš„è„šè¶´å¥½"]}
      },
      guide:{
        relationship:["å‡å°‘å¼ºè¡Œç¤¾äº¤ï¼Œç”¨è·ç¦»+å¥–åŠ±æ…¢æ…¢å»ºç«‹ä¿¡ä»»","ç»™å®ƒä¸€ä¸ªä¸“å±å®‰å…¨åŒºï¼šçª/ç¬¼/è§’è½"],
        feeding:["å®‰é™ç¯å¢ƒä¸‹è¿›é£Ÿï¼Œåˆ«åœ¨æ—è¾¹å¤§å£°è¯´è¯","å¯ä»¥ç”¨æ‰‹å–‚å¢è¿›ä¿¡ä»»"],
        toys:["æŸ”è½¯çš„é™ªä¼´å‹ç©å¶æœ€åˆé€‚","å—…é—»å«ç­‰å®‰é™å‹ç©å…·","ä¸é€‚åˆç«äº‰æ€§å¼ºçš„äº’åŠ¨æ¸¸æˆ"],
        emotion:["ç”¨æ¸©å’Œè®­ç»ƒæ–¹å¼ï¼Œç»å¯¹é¿å…å¤§å£°å‘µæ–¥","å®ƒçš„èƒ†å°ä¸æ˜¯ç¼ºé™·ï¼Œå°Šé‡å®ƒçš„èŠ‚å¥"]
      }},
    "INFJ": { name:"æ²»æ„ˆç³»å½±å­", rarity:3, line:"å®ƒä»€ä¹ˆéƒ½ä¸åšï¼Œå°±å¾…åœ¨ä½ èº«è¾¹ï¼Œä½ å°±å¥½äº†ã€‚", tags:["è§‚å¯Ÿå‹","ç²˜ä½ ","æœ‰åˆ†å¯¸"],
      monologue:"æˆ‘ä¸æ˜¯ä¸çˆ±çƒ­é—¹ï¼Œæˆ‘åªæ˜¯æ›´å–œæ¬¢å®‰å®‰é™é™å¾…åœ¨ä½ æ—è¾¹ã€‚ä½ çœ‹ä¹¦æˆ‘è¶´ç€ï¼Œä½ å‘å‘†æˆ‘ä¹Ÿè¶´ç€â€”â€”æˆ‘ä»¬ä¹‹é—´ä¸ç”¨è¯´ä»€ä¹ˆï¼Œå¾…ç€å°±å¾ˆå¥½äº†ã€‚",
      tips:["å›ºå®šä½œæ¯ä¸åœºæ™¯ï¼Œå®‰å…¨æ„Ÿæ›´å¼º","è®­ç»ƒç”¨ã€Œæç¤ºâ†’æˆåŠŸâ†’å¥–åŠ±ã€ï¼›ç¤¾äº¤ä»¥ç†Ÿäººå±€ä¸ºä¸»ï¼Œæ…¢æ…¢æ‰©åœˆ"],
      bubbles:["æ´å¯Ÿ","æ¸©æŸ”","å®ˆæŠ¤","ç¥ç§˜","ç›´è§‰","ä¸“æ³¨"],
      profile:{
        traits:["å®‰é™ä½†æ´å¯ŸåŠ›æå¼ºï¼Œæ€»èƒ½æ„ŸçŸ¥ä½ çš„çŠ¶æ€","æœ‰åˆ†å¯¸æ„Ÿï¼Œä¸ä¼šè¿‡åº¦ç²˜äººä¹Ÿä¸ä¼šå¤ªç–è¿œ","å…³é”®æ—¶åˆ»ç‰¹åˆ«é è°±ï¼Œæ˜¯çœŸæ­£çš„å®ˆæŠ¤è€…"],
        behaviors:["æ€»æ˜¯å®‰é™åœ°è§‚å¯Ÿå‘¨å›´ï¼Œçœ¼ç¥é‡Œæœ‰æ•…äº‹","ä½ ä¸å¼€å¿ƒæ—¶å®ƒä¼šé»˜é»˜é™ªåœ¨èº«è¾¹","å¯¹é™Œç”Ÿäººä¿æŒç¤¼è²Œä½†æœ‰è·ç¦»"],
        innerVsOuter:{inner:["ä½ éš¾è¿‡å§ï¼Ÿæˆ‘æ„Ÿåº”åˆ°äº†ï¼Œæˆ‘æ¥é™ªä½ ","æˆ‘ä¸è¯´è¯ä¸ä»£è¡¨æ²¡åœ¨çˆ±ä½ ï¼Œæ¯ä¸€ç§’éƒ½åœ¨","ä½ ä»Šå¤©ç¬‘äº†ä¸‰æ¬¡ï¼Œæˆ‘éƒ½æ•°ç€å‘¢"],outer:["ä½ å¹æ°”æ—¶å®ƒé»˜é»˜èµ°è¿‡æ¥è¶´åœ¨ä½ è„šè¾¹","å®‰é™åœ°å¾…åœ¨ä½ æ—è¾¹ä¸€ä¸‹åˆçº¹ä¸ä¸åŠ¨","ä½ å¼€å¿ƒæ—¶å®ƒä¹Ÿè½»è½»æ‘‡ä¸¤ä¸‹å°¾å·´å›åº”"]}
      },
      guide:{
        relationship:["å›ºå®šä½œæ¯ä¸åœºæ™¯ï¼Œå®ƒéœ€è¦ç¨³å®šçš„å®‰å…¨æ„Ÿ","è®­ç»ƒç”¨'æç¤ºâ†’æˆåŠŸâ†’å¥–åŠ±'çš„æ­£å‘é“¾æ¡"],
        feeding:["å®‰é™è§„å¾‹çš„å–‚é£Ÿç¯å¢ƒæœ€é‡è¦","ä¸å–œæ¬¢è¢«æ‰“æ‰°è¿›é£Ÿ"],
        toys:["å—…é—»ç±»å®‰é™å‹ç©å…·","é€‚åˆä¸€å¯¹ä¸€çš„äº’åŠ¨æ¸¸æˆ","ä¸é€‚åˆå¤ªå˜ˆæ‚çš„ç¾¤ä½“æ´»åŠ¨"],
        emotion:["ç¤¾äº¤ä»¥ç†Ÿäººå±€ä¸ºä¸»ï¼Œæ…¢æ…¢æ‰©åœˆ","å®ƒçš„æ²‰é»˜ä¸æ˜¯å†·æ¼ ï¼Œæ˜¯åœ¨ç”¨è‡ªå·±çš„æ–¹å¼çˆ±ä½ "]
      }},
    "INTP": { name:"æ²‰æ€å°å­¦è€…", rarity:5, line:"åˆ«æ‰“æ‰°å®ƒâ€”â€”å®ƒæ­£åœ¨æ€è€ƒä¸€ä¸ªå¾ˆé‡è¦çš„é—®é¢˜ï¼ˆå…¶å®æ˜¯å‘å‘†ï¼‰ã€‚", tags:["ç‹¬ç«‹","å¥½å¥‡","è„‘åŠ›å‹"],
      monologue:"æˆ‘å¯¹ç€é‚£æ£µæ ‘ç ”ç©¶äº†åŠå°æ—¶ä¸æ˜¯å‘å‘†ï¼Œæˆ‘åœ¨åˆ†æä¸Šé¢åˆ°åº•æœ‰å‡ ç§å‘³é“ã€‚ä½ ä»¬äººç±»ä¸æ‡‚å—…è§‰çš„å­¦é—®ï¼Œç®—äº†ä¸è§£é‡Šäº†ã€‚",
      tips:["å¤šç»™ç›Šæ™ºç©å…·ã€å—…é—»å«ã€å¯»å®","è®­ç»ƒåŠ å…¥å˜åŒ–ï¼Œä¸ç„¶ä¼šæ— èŠ","ç”¨å¥–åŠ±å»ºç«‹ã€Œæ„¿æ„é…åˆã€çš„åŠ¨åŠ›"],
      bubbles:["å¥½å¥‡","ç‹¬ç«‹","ä¸“æ³¨","èªæ…§","ç ”ç©¶","å®‰é™"],
      profile:{
        traits:["å¤©ç”Ÿçš„ç ”ç©¶è€…ï¼Œå¯¹ä¸€åˆ‡äº‹ç‰©ä¿æŒå¥½å¥‡","ç‹¬ç«‹æ€§å¼ºï¼Œäº«å—ç‹¬å¤„çš„æ—¶å…‰","å­¦ä¹ èƒ½åŠ›å¼ºä½†æŒ‰è‡ªå·±çš„èŠ‚å¥æ¥"],
        behaviors:["èƒ½å¯¹ç€ä¸€ä¸ªä¸œè¥¿ç ”ç©¶åŠå¤©ä¸åŠ¨","è®­ç»ƒæ—¶æœ‰è‡ªå·±çš„'ç ”ç©¶æ–¹å¼'ï¼Œä¸ä¸€å®šæŒ‰ä½ è¯´çš„æ¥","ç‹¬å¤„æ—¶å¾ˆè‡ªåœ¨ï¼Œä¸ä¼šå› ä¸ºä½ ä¸åœ¨å°±ç„¦è™‘"],
        innerVsOuter:{inner:["è¿™æ£µæ ‘ä¸Šè‡³å°‘æœ‰å››ç§å‘³é“ï¼Œç­‰æˆ‘åˆ†æå®Œ","ä½ åœ¨å«æˆ‘ï¼Ÿå—¯â€¦æˆ‘å†ç ”ç©¶ä¸€ä¸‹è¿™ä¸ªæ´","ä½ åæ—è¾¹å°±å¥½ï¼Œåˆ«è¯´è¯ï¼Œæˆ‘åœ¨æ€è€ƒ"],outer:["å¯¹ç€ä¸€æ£µæ ‘é—»äº†æ•´æ•´ååˆ†é’Ÿä¸€åŠ¨ä¸åŠ¨","å«åå­—è¦å«ä¸‰éæ‰æ…¢æ‚ æ‚ æŠ¬å¤´çœ‹ä½ ","ä½ é™ªå®ƒåç€å‘å‘†æ—¶å®ƒåè€Œä¸»åŠ¨è¹­ä½ "]}
      },
      guide:{
        relationship:["å¤šç»™ç›Šæ™ºç©å…·æ»¡è¶³å®ƒçš„ç ”ç©¶æ¬²","è®­ç»ƒè¦åŠ å…¥å˜åŒ–ï¼Œé‡å¤å¤ªå¤šå®ƒä¼šæ— èŠ"],
        feeding:["æ¼é£Ÿçƒå’Œå—…é—»å«æ¯”ç›´æ¥å–‚æ›´åˆé€‚","è®©è¿›é£Ÿä¹Ÿå˜æˆä¸€ç§'ç ”ç©¶'"],
        toys:["ç›Šæ™ºç©å…·ã€è§£è°œç±»æ˜¯é¦–é€‰","å—…é—»å«ã€è—é£Ÿæ¸¸æˆ","éœ€è¦å®šæœŸæ¢æ–°ä¿æŒå…´è¶£"],
        emotion:["å°Šé‡å®ƒçš„ç‹¬å¤„æ—¶é—´ï¼Œåˆ«å¼ºè¡Œäº’åŠ¨","ç”¨é£Ÿç‰©å¥–åŠ±å»ºç«‹'æ„¿æ„é…åˆ'çš„åŠ¨åŠ›"]
      }},
    "INTJ": { name:"é«˜å†·å°å†°å—", rarity:4, line:"çœ‹ä¼¼ä¸éœ€è¦ä½ ï¼Œå…¶å®ä½ èµ°å“ªå®ƒçœ¼ç›è·Ÿåˆ°å“ªã€‚", tags:["å†·é™","ç­–ç•¥","è‡ªæ§å¼º"],
      monologue:"æˆ‘ä¸æ˜¯ä¸ç†ä½ ã€‚åªæ˜¯æˆ‘è§‰å¾—å¤§æƒŠå°æ€ªçš„å¾ˆæ²¡å¿…è¦ã€‚ä½†ä½ æ™šä¸Šç¡ç€ä»¥åï¼Œæˆ‘ä¼šèµ°åˆ°ä½ åºŠè¾¹ç¡®è®¤ä½ è¿˜åœ¨ã€‚ç¡®è®¤äº†ï¼Œæˆ‘å°±å®‰å¿ƒäº†ã€‚",
      tips:["è§„åˆ™æ˜ç¡®ã€è¾¹ç•Œæ¸…æ™°ï¼Œå°‘åå¤","è®­ç»ƒåã€Œä»»åŠ¡å‹ã€ï¼šå®šç‚¹/éšè¡Œ","ç¤¾äº¤å…ˆè§‚å¯Ÿï¼Œåˆ«å‚¬ï¼Œç»™å®ƒé€‰æ‹©æƒ"],
      bubbles:["ç†æ€§","å†·é™","ç­–ç•¥","ç‹¬ç«‹","è‡ªå¾‹","æ·±æ²‰"],
      profile:{
        traits:["å†·é™è‡ªæŒï¼Œå¾ˆå°‘æœ‰è¿‡åº¦å…´å¥‹çš„æ—¶å€™","å¿ƒæ€ç¼œå¯†ï¼Œå¯¹ç¯å¢ƒæœ‰å¾ˆå¼ºçš„æŒæ§æ¬²","è‡ªæ§åŠ›å¼ºï¼Œä¸ä¼šä¸ºäº†é›¶é£Ÿä¸¢äº†å°Šä¸¥"],
        behaviors:["æ–°ç¯å¢ƒå…ˆè§‚å¯Ÿä¸€åœˆå†å†³å®šæ€ä¹ˆè¡ŒåŠ¨","è®­ç»ƒæ—¶é…åˆä½†ä¿æŒ'æˆ‘åœ¨æ€è€ƒ'çš„æ€åº¦","ä¸è½»æ˜“å¯¹é™Œç”Ÿäººæ‘‡å°¾å·´"],
        innerVsOuter:{inner:["ä¸æ˜¯ä¸ç†ä½ ï¼Œæ˜¯å¤§æƒŠå°æ€ªæ²¡å¿…è¦","ä½ ç¡äº†å—ï¼Ÿæˆ‘å»åºŠè¾¹ç¡®è®¤ä¸€ä¸‹å°±å›æ¥","æˆ‘æ—©å°±çœ‹ç©¿ä¸€åˆ‡äº†ï¼Œåªæ˜¯æ‡’å¾—è¡¨æ€"],outer:["ä½ å›å®¶å®ƒåªæŠ¬å¤´çœ‹ä¸€çœ¼åˆè¶´ä¸‹äº†","åŠå¤œå·å·èµ°åˆ°ä½ åºŠè¾¹çœ‹ä½ ç„¶åé»˜é»˜ç¦»å¼€","æ–°æ¥çš„å®¢äººä¼¸æ‰‹æ‘¸å®ƒè¢«å®ƒä¸€ä¸ªè½¬èº«èº²å¼€"]}
      },
      guide:{
        relationship:["è§„åˆ™æ˜ç¡®ã€è¾¹ç•Œæ¸…æ™°ï¼Œåˆ«æœä»¤å¤•æ”¹","è®­ç»ƒåä»»åŠ¡å‹ï¼šå®šç‚¹ã€éšè¡Œã€å¤æ‚æŒ‡ä»¤"],
        feeding:["ä¸è´ªé£Ÿï¼Œä½†å¯¹é£Ÿç‰©å“è´¨æœ‰è¦æ±‚","å›ºå®šæ—¶é—´å–‚é£Ÿå³å¯"],
        toys:["é«˜éš¾åº¦ç›Šæ™ºç©å…·æ‰é…å¾—ä¸Šå®ƒ","ç­–ç•¥å‹æ¸¸æˆï¼šè—é£Ÿå¯»å®è·¯çº¿","ä¸å–œæ¬¢æ— æ„ä¹‰çš„é‡å¤æ¸¸æˆ"],
        emotion:["ç¤¾äº¤æ—¶åˆ«å‚¬å®ƒï¼Œç»™å®ƒé€‰æ‹©æƒ","å®ƒçš„é«˜å†·æ˜¯æ€§æ ¼ä¸æ˜¯ä¸çˆ±ä½ "]
      }},
    "ISFP": { name:"æ…¢çƒ­å°å…¬ä¸»", rarity:7, line:"æŒ‘å‰”ä½†å¯çˆ±ï¼Œå®ƒçš„èˆ’é€‚åœˆé‡Œåªå®¹å¾—ä¸‹ä½ ã€‚", tags:["æ¸©æŸ”","æ…¢çƒ­","äº«å—å‹"],
      monologue:"é˜³å…‰ã€è½¯å«ã€ä½ çš„è…¿â€”â€”è¿™æ˜¯æˆ‘çš„å®Œç¾ä¸‰ä»¶å¥—ã€‚åˆ«çš„æˆ‘ä¸å¤ªåœ¨æ„ï¼Œèˆ’æœæœ€é‡è¦ã€‚å¯¹äº†ä½ æ¢çš„é‚£ä¸ªæ–°æ²æµ´éœ²æˆ‘ä¸å¤ªå–œæ¬¢ï¼Œå°±è¿™æ ·ã€‚",
      tips:["ç¯å¢ƒèˆ’é€‚æœ€é‡è¦ï¼šæ¸©åº¦ã€å«å­ã€å™ªéŸ³","è®­ç»ƒç”¨é¼“åŠ±æ›¿ä»£å‹åŠ›","å¤–å‡ºåˆ«å¤ªä¹…ï¼Œç»™è¶³ä¼‘æ¯"],
      bubbles:["æ¸©æŸ”","ç»†è…»","äº«å—","æƒ¬æ„","å®¡ç¾","å®‰é™","è‡ªåœ¨"],
      profile:{
        traits:["æ¸©æŸ”åˆ°éª¨å­é‡Œï¼Œå¯¹èˆ’é€‚ç¯å¢ƒæœ‰å¾ˆé«˜è¦æ±‚","æ…¢çƒ­ä½†ä¸€æ—¦äº²è¿‘å°±ç‰¹åˆ«é»äºº","æœ‰è‡ªå·±çš„å®¡ç¾å’Œåå¥½ï¼ŒæŒ‘å‰”ä½†å¯çˆ±"],
        behaviors:["ä¼šæŒ‘è‡ªå·±å–œæ¬¢çš„å«å­å’Œä½ç½®","ä¸å–œæ¬¢è¢«ç²—æš´å¯¹å¾…ï¼Œä¸€ç‚¹å°±å¤Ÿ","é˜³å…‰å¥½çš„æ—¶å€™æœ€å–œæ¬¢è¶´åœ¨çª—è¾¹æ™’å¤ªé˜³"],
        innerVsOuter:{inner:["è¿™ä¸ªå«å­ä¸å¤Ÿè½¯ï¼Œæˆ‘æ‹’ç»è¶´ä¸‹","é˜³å…‰åˆšå¥½ç…§åˆ°æˆ‘èº«ä¸Šâ€¦å®Œç¾ï¼Œåˆ«åŠ¨","ä½ æ¢äº†æ²æµ´éœ²ï¼Ÿæˆ‘é—»å‡ºæ¥äº†ï¼Œä¸å¤ªè¡Œ"],outer:["è¯•äº†ä¸‰ä¸ªä½ç½®æ‰é€‰å®šä»Šå¤©çš„çªç‚¹","åœ¨çª—è¾¹é˜³å…‰é‡Œè¶´äº†ä¸€ä¸‹åˆçœ¯ç€çœ¼","ä½ ä¼¸æ‰‹æ‘¸å®ƒæ—¶å®ƒæŒ‘å‰”åœ°é—»é—»æ‰æ¥å—"]}
      },
      guide:{
        relationship:["ç¯å¢ƒèˆ’é€‚æ˜¯ç¬¬ä¸€è¦åŠ¡ï¼šæ¸©åº¦ã€å«å­ã€å™ªéŸ³","è®­ç»ƒç”¨é¼“åŠ±æ›¿ä»£å‹åŠ›ï¼Œæ¸©æŸ”å¼•å¯¼"],
        feeding:["å¯¹é£Ÿç‰©å“è´¨æŒ‘å‰”ï¼Œå¯èƒ½éœ€è¦æ¢å‡ ç§æ‰¾åˆ°æœ€çˆ±","å®‰é™èˆ’é€‚çš„è¿›é£Ÿç¯å¢ƒ"],
        toys:["æŸ”è½¯çš„ç©å¶å’Œå«å­","è½»é‡çº§äº’åŠ¨ï¼šæ…¢èŠ‚å¥çš„å¯»ç‰©","ä¸é€‚åˆé«˜å¼ºåº¦è¿åŠ¨"],
        emotion:["å¤–å‡ºæ—¶é—´åˆ«å¤ªé•¿ï¼Œç»™è¶³ä¼‘æ¯","å®ƒçš„æŒ‘å‰”æ˜¯åœ¨å‘Šè¯‰ä½ å®ƒçš„éœ€æ±‚"]
      }},
    "ISFJ": { name:"è´´è´´ä¿å§†æ±ª", rarity:10, line:"ä¸äº‰ä¸æŠ¢ï¼Œå°±æƒ³å®ˆç€ä½ åˆ°æœ€åä¸€åˆ»ã€‚", tags:["è´´å¿ƒ","ç¨³å®š","é¡¾å®¶"],
      monologue:"ä½ å‡ºé—¨çš„æ—¶å€™æˆ‘æ²¡å«ï¼Œå› ä¸ºæ€•ä½ å¿ƒç–¼ã€‚ä½†ä½ å…³é—¨ä»¥åæˆ‘å°±è¶´åœ¨é—¨å£äº†ã€‚ä½ ä¸çŸ¥é“ï¼Œä½ å›æ¥å¼€é—¨çš„å£°éŸ³ï¼Œæ˜¯æˆ‘ä¸€å¤©é‡Œæœ€å¥½å¬çš„å£°éŸ³ã€‚",
      tips:["é€‚åˆè§„å¾‹é™ªä¼´ï¼šå›ºå®šæ•£æ­¥æ—¶é—´","åšåˆ†ç¦»è®­ç»ƒé¿å…ä¾èµ–è¿‡å¼º","ç”¨è½»æ¾äº’åŠ¨ï¼ˆæŠšæ‘¸/èˆ”é£Ÿï¼‰å®‰æŠš"],
      bubbles:["æ¸©æš–","è´´å¿ƒ","å¿ è¯š","ç¨³å®š","å®ˆæŠ¤","å®‰å¿ƒ"],
      profile:{
        traits:["å¤©ç”Ÿçš„æš–å¿ƒå°æ£‰è¢„ï¼Œæœ€ä¼šç…§é¡¾äºº","ä¸äº‰ä¸æŠ¢ï¼Œæ€§æ ¼ç¨³å®šè®©äººå®‰å¿ƒ","å¯¹ä¸»äººæœ‰ææ·±çš„ä¾æ‹å’Œå¿ è¯š"],
        behaviors:["æ°¸è¿œè·Ÿåœ¨ä½ è„šè¾¹ï¼Œèµ°åˆ°å“ªè·Ÿåˆ°å“ª","ä½ ç”Ÿç—…æ—¶ä¼šæ ¼å¤–æ¸©æŸ”åœ°é™ªç€ä½ ","ä¸è·Ÿåˆ«çš„æ¯›å­©å­äº‰ç©å…·ï¼Œè‡ªå·±é»˜é»˜é€€è®©"],
        innerVsOuter:{inner:["ä½ å…³é—¨çš„å£°éŸ³æ˜¯æˆ‘ä¸€å¤©é‡Œæœ€æ€•å¬åˆ°çš„","æ²¡äº‹æˆ‘ä¸å«ï¼Œæ€•ä½ å¿ƒç–¼â€¦ä½†æˆ‘ä¼šç­‰ä½ ","ä½ æ‘¸åˆ«çš„ç‹—äº†ï¼Ÿæ²¡å…³ç³»â€¦æˆ‘ä¸äº‰çš„"],outer:["ä½ å‡ºé—¨åå®ƒé»˜é»˜è¶´åœ¨é—¨å£ä¸€åŠ¨ä¸åŠ¨","ä»ä¸äº‰æŠ¢ç©å…·è¢«æŠ¢äº†å°±å®‰é™é€€åˆ°ä¸€è¾¹","ä½ å›å®¶å¼€é—¨ç¬é—´å®ƒå·²ç»æ‘‡ç€å°¾å·´ç­‰å¥½äº†"]}
      },
      guide:{
        relationship:["è§„å¾‹çš„é™ªä¼´èŠ‚å¥æœ€é‡è¦ï¼šå›ºå®šæ•£æ­¥æ—¶é—´","é€‚åº¦åˆ†ç¦»è®­ç»ƒï¼Œé¿å…è¿‡åº¦ä¾èµ–"],
        feeding:["ç”¨å–‚é£Ÿæ—¶é—´åšç®€å•äº’åŠ¨è®­ç»ƒ","å®šæ—¶å®šé‡ï¼Œé…åˆæ¸©æŸ”çš„è¯­æ°”"],
        toys:["è½»æ¾äº’åŠ¨å‹ï¼šæŠšæ‘¸ã€èˆ”é£Ÿå«","ä¸éœ€è¦å¤ªå¤æ‚çš„ç©å…·","é™ªä¼´å‹ç©å¶ç»™å®ƒå®‰å…¨æ„Ÿ"],
        emotion:["åˆ†ç¦»è®­ç»ƒè¦å¾ªåºæ¸è¿›ï¼Œåˆ«ä¸€ä¸‹å­ç¦»å¼€å¤ªä¹…","å¤šåšè½»æ¾çš„è‚¢ä½“æ¥è§¦ï¼ˆæŠšæ‘¸ã€æ‹¥æŠ±ï¼‰"]
      }},
    "ISTP": { name:"ä½›ç³»é…·ç›–", rarity:5, line:"ç‹¬æ¥ç‹¬å¾€ä¸æ˜¯ä¸çˆ±ä½ ï¼Œåªæ˜¯çˆ±å¾—å¾ˆé…·ã€‚", tags:["ç‹¬ç«‹","å†·é™","è§‚å¯Ÿ"],
      monologue:"æˆ‘çŸ¥é“ä½ è§‰å¾—æˆ‘ä¸å¤Ÿçƒ­æƒ…ã€‚ä½†ä¸‹é›¨å¤©ä½ æ·‹ç€å›æ¥ï¼Œæˆ‘è™½ç„¶åªæ˜¯æŠ¬å¤´çœ‹äº†ä½ ä¸€çœ¼ï¼Œå¿ƒé‡Œæƒ³çš„æ˜¯ï¼š'å›æ¥å°±å¥½ã€‚'",
      tips:["ç»™ç©ºé—´ï¼šåˆ«ä¸€ç›´æŠ±ã€åˆ«å¼ºäº’åŠ¨","è®­ç»ƒç”¨ã€Œå°‘è¯´å¤šåšã€ï¼šåŠ¨ä½œæ˜ç¡®","ç¤¾äº¤å°‘è€Œç²¾ï¼Œé¿å…è¿‡åº¦æ¶ˆè€—"],
      bubbles:["ç‹¬ç«‹","å†·é™","è‡ªåœ¨","è§‚å¯Ÿ","ç†æ€§","æ²‰ç¨³"],
      profile:{
        traits:["ç‹¬ç«‹æ€§æå¼ºï¼Œäº«å—è‡ªå·±çš„ç©ºé—´å’ŒèŠ‚å¥","å†·é™ç†æ€§ï¼Œä¸è½»æ˜“è¢«å¤–ç•Œå¹²æ‰°","è§‚å¯ŸåŠ›æ•é”ï¼Œä»€ä¹ˆéƒ½çœ‹åœ¨çœ¼é‡Œ"],
        behaviors:["å–œæ¬¢æ‰¾ä¸ªå®‰é™çš„è§’è½è‡ªå·±å¾…ç€","ä¸éœ€è¦ä½ ä¸€ç›´é™ªï¼Œä½†ä½ å«å®ƒæ—¶ä¼šæ¥","å¯¹ç¯å¢ƒå˜åŒ–çœ‹ä¼¼ä¸åœ¨æ„ä½†å…¶å®éƒ½æ³¨æ„åˆ°äº†"],
        innerVsOuter:{inner:["æˆ‘è‡ªå·±å¾…ç€æŒºå¥½çš„ï¼Œä½ åˆ«å¤ªæ‹…å¿ƒ","ä¸‹é›¨å¤©ä½ å›æ¥äº†â€¦å—¯ï¼Œå›æ¥å°±å¥½","æˆ‘ä¸æ˜¯ä¸çˆ±ä½ ï¼Œæˆ‘å°±æ˜¯é…·ç€çˆ±ä½ "],outer:["è‡ªå·±æ‰¾äº†ä¸ªè§’è½è¶´ç€è°å«éƒ½ä¸åŠ¨","ä½ æ·‹é›¨å›å®¶å®ƒåªæŠ¬å¤´çœ‹äº†ä½ ä¸€çœ¼å°±ç»§ç»­è¶´","å¶å°”æ•£æ­¥æ—¶çªç„¶é è¿‡æ¥è¹­ä½ ä¸€ä¸‹åˆèµ°å¼€"]}
      },
      guide:{
        relationship:["ç»™è¶³ç©ºé—´ï¼Œåˆ«ä¸€ç›´æŠ±ç€ä¸æ”¾","è®­ç»ƒç”¨'å°‘è¯´å¤šåš'ï¼šåŠ¨ä½œæ˜ç¡®ï¼ŒåºŸè¯å°‘è¯´"],
        feeding:["å®‰é™ç‹¬ç«‹çš„è¿›é£Ÿç©ºé—´","ä¸å–œæ¬¢è¢«ç›¯ç€åƒé¥­"],
        toys:["ç‹¬è‡ªèƒ½ç©çš„ç©å…·æœ€åˆé€‚","å—…é—»å«ã€Kongå¡«å……ç©å…·","ä¸éœ€è¦å¤ªå¤šç¤¾äº¤äº’åŠ¨"],
        emotion:["ç¤¾äº¤å®‰æ’å°‘è€Œç²¾ï¼Œé¿å…è¿‡åº¦æ¶ˆè€—","å°Šé‡å®ƒçš„'ç‹¬å¤„æ—¶é—´'ï¼Œé‚£æ˜¯å®ƒçš„å……ç”µæ–¹å¼"]
      }},
    "ISTJ": { name:"ç¨³é‡è€å¹²éƒ¨", rarity:8, line:"ç¨³ã€å‡†ã€é è°±ï¼šæŒ‰è§„çŸ©æ¥å®ƒæœ€èˆ’æœã€‚", tags:["ç¨³é‡","å®ˆè§„åˆ™","ä½æ³¢åŠ¨"],
      monologue:"æ—©ä¸Šå…­ç‚¹åŠå‡†æ—¶èµ·æ¥ä¸æ˜¯å› ä¸ºæˆ‘å‹¤å¿«ï¼Œæ˜¯å› ä¸ºä½ æ˜¨å¤©è¯´å¥½äº†å…­ç‚¹åŠã€‚æ—¢ç„¶è¯´å¥½äº†ï¼Œé‚£å°±å¾—æ‰§è¡Œï¼Œä¸€å¤©ä¹Ÿä¸èƒ½å·®ã€‚",
      tips:["å›ºå®šè§„åˆ™+å›ºå®šè·¯çº¿ï¼Œæœ€çœå¿ƒ","è®­ç»ƒé‡ã€Œé‡å¤ä¸ä¸€è‡´æ€§ã€","é€‚åˆåšåŸºç¡€æœä»ï¼šç­‰å¾…/éšè¡Œ/å›å«"],
      bubbles:["ç¨³é‡","å¯é ","è§„å¾‹","è¸å®","è‡ªå¾‹","åšå®š"],
      profile:{
        traits:["ç¨³å®šå¯é æ˜¯å®ƒæœ€å¤§çš„æ ‡ç­¾","å¯¹è§„åˆ™å’Œç§©åºæœ‰å¤©ç”Ÿçš„å°Šé‡","ä½æ³¢åŠ¨çš„æƒ…ç»ªè®©ä½ æ ¼å¤–å®‰å¿ƒ"],
        behaviors:["æ¯å¤©èµ°åŒä¸€æ¡è·¯çº¿ï¼Œå»åŒä¸€ä¸ªåœ°æ–¹","è®­ç»ƒæŒ‡ä»¤æ‰§è¡Œå¾—ä¸€ä¸ä¸è‹Ÿ","ä¸ä¼šçªç„¶å‘ç–¯æˆ–åšå‡ºå‡ºæ ¼çš„äº‹"],
        innerVsOuter:{inner:["å…­ç‚¹åŠäº†è¯¥èµ·äº†ï¼Œè¯´å¥½çš„ä¸èƒ½å·®ä¸€å¤©","ä»Šå¤©èµ°å·¦è¾¹é‚£æ¡è·¯ï¼Œè·Ÿæ˜¨å¤©ä¸€æ ·æ‰å¯¹","è™½ç„¶æ—¥å­é‡å¤ï¼Œä½†æ¯å¤©æœ‰ä½ å°±å¾ˆå¥½"],outer:["æ¯å¤©å‡†æ—¶åœ¨é—¨å£ç­‰ä½ å›å®¶è¯¯å·®ä¸è¶…ä¸€åˆ†é’Ÿ","æ•£æ­¥æ°¸è¿œèµ°åŒä¸€æ¡è·¯çº¿åŒä¸€ä¸ªæ–¹å‘","ä½ åŠ ç­æ™šå½’å®ƒè¶´åœ¨é—¨å£ç­‰åˆ°æ‰“çŒç¡ä¹Ÿä¸æŒªçª"]}
      },
      guide:{
        relationship:["å›ºå®šè§„åˆ™+å›ºå®šè·¯çº¿ï¼Œæ˜¯å®ƒæœ€çœå¿ƒçš„æ¨¡å¼","è®­ç»ƒé‡'é‡å¤ä¸ä¸€è‡´æ€§'ï¼Œå®ƒä¼šè¶Šç»ƒè¶Šå¥½"],
        feeding:["å›ºå®šæ—¶é—´å›ºå®šåœ°ç‚¹ï¼Œæ°¸è¿œä¸ä¼šå‡ºé—®é¢˜","æœ€é€‚åˆåŸ¹å…»è‰¯å¥½è¿›é£Ÿä¹ æƒ¯"],
        toys:["åŸºç¡€æœä»è®­ç»ƒå°±æ˜¯æœ€å¥½çš„'æ¸¸æˆ'","å¯»å›ã€éšè¡Œã€ç­‰å¾…ç­‰ç»å…¸é¡¹ç›®","ä¸éœ€è¦å¤ªèŠ±å“¨çš„ç©å…·"],
        emotion:["ä¸è¦çªç„¶æ”¹å˜å®ƒçš„ç”Ÿæ´»èŠ‚å¥","ç¯å¢ƒå˜åŒ–æ—¶æå‰é€‚åº”ï¼Œç»™å®ƒè¿‡æ¸¡æœŸ"]
      }}
  };

  // è¿™é‡Œçš„ YOUR_TEST_LINK é»˜è®¤ç›´æ¥ç”¨å½“å‰é¡µé¢åœ°å€
  const getTestLink = () => location.href.split('?')[0];

  function start(){
    idx = 0;
    score = {E:0,I:0,S:0,N:0,T:0,F:0,J:0,P:0};
    isTransitioning = false;
    document.getElementById("hero").style.display = "none";
    document.getElementById("panel").style.display = "block";
    document.getElementById("statusTag").innerText = "æµ‹è¯•è¿›è¡Œä¸­";
    // éšè—è§£é”æ‚¬æµ®æ¡ï¼ˆç­”é¢˜è¿‡ç¨‹ä¸­ä¸æ˜¾ç¤ºï¼‰
    var unlockBar = document.getElementById('unlockBar');
    if (unlockBar) unlockBar.classList.remove('is-show');
    trackEvent('funnel', 'test_start', 'begin');
    renderQuestion(true);
  }

  function showDemo(){
    // ç›´æ¥è®¾ç½®çŠ¶æ€ï¼Œä¸è°ƒ start() é¿å…é—ªçƒ
    idx = 16;
    score = {E:3,I:1,S:1,N:3,T:1,F:3,J:1,P:3}; // æ¨¡æ‹Ÿ ENFP åˆ†æ•°ï¼Œç»´åº¦æ¡æ˜¾ç¤ºçœŸå®æ¯”ä¾‹
    finalType = "ENFP";
    isTransitioning = false;
    document.getElementById("hero").style.display = "none";
    document.getElementById("panel").style.display = "block";
    document.getElementById("statusTag").innerText = "ç¤ºä¾‹æ¨¡å¼";
    trackEvent('funnel', 'demo_viewed', 'ENFP');
    renderResult("ENFP");
  }

  const dimLabels = { EI:'ç¤¾äº¤èƒ½é‡', SN:'æ„ŸçŸ¥æ–¹å¼', TF:'å†³ç­–åå¥½', JP:'ç”Ÿæ´»æ–¹å¼' };
  const dimEmoji = { EI:'ğŸ’¬', SN:'ğŸ‘€', TF:'ğŸ§ ', JP:'ğŸ“‹' };

  function renderQuestion(animate){
    const q = questions[idx];
    trackEvent('funnel', 'question_reached', 'q' + (idx + 1), idx + 1);
    const panel = document.getElementById("panel");
    if(panel) panel.classList.remove("panel-result");
    const pct = Math.round(((idx)/questions.length)*100);
    document.getElementById("step").innerText = "é¢˜ç›®è¿›åº¦";
    document.getElementById("progress").innerText = `${idx+1}/${questions.length}`;
    setBar((idx)/questions.length);

    const dimClass = q.dim.toLowerCase();
    const dimLabel = dimLabels[q.dim] || '';
    const dimEm = dimEmoji[q.dim] || '';

    document.getElementById("content").innerHTML = `
      <div class="quiz-card ${animate ? 'quiz-enter' : ''}">
        <div class="dim-badge ${dimClass}">${dimEm} ${dimLabel}</div>
        <div class="q">${q.q}</div>
        <button class="opt" id="optA" onclick="choose('A')">A. ${q.A}</button>
        <button class="opt" id="optB" onclick="choose('B')">B. ${q.B}</button>
        <div class="progress-text">${pct}% å·²å®Œæˆ Â· è¿˜å‰© ${questions.length - idx} é¢˜</div>
      </div>
    `;
  }


  function choose(which){
    if(isTransitioning) return;
    isTransitioning = true;

    const q = questions[idx];
    const s = (which === "A") ? q.scoreA : q.scoreB;
    Object.keys(s).forEach(k => score[k] += s[k]);

    // é€‰ä¸­åé¦ˆ
    const btn = document.getElementById(which === 'A' ? 'optA' : 'optB');
    if(btn) btn.classList.add('opt-selected');

    // å»¶è¿Ÿååˆ‡é¢˜
    setTimeout(()=>{
      const card = document.querySelector('.quiz-card');
      if(card) card.classList.add('quiz-exit');

      setTimeout(()=>{
        idx += 1;
        if(idx >= questions.length){
          // æ˜¾ç¤ºè®¡ç®—ä¸­è¿‡æ¸¡
          document.getElementById("content").innerHTML = `
            <div class="calc-loading">
              <div class="calc-spinner"></div>
              <div class="calc-text">æ­£åœ¨åˆ†ææ€§æ ¼...</div>
              <div class="calc-sub">ç»¼åˆ ${questions.length} é“é¢˜ç›®ä¸ºä½ ç”Ÿæˆä¸“å±æŠ¥å‘Š</div>
            </div>
          `;
          setTimeout(()=>{
            finalType = calcType();
            // æ£€æŸ¥ localStorage æ˜¯å¦å·²æœ‰è‡ªå®šä¹‰å¤´åƒ
            const hasCustomAvatar = (function(){
              try { return !!localStorage.getItem(AVATAR_KEY); } catch(e){ return false; }
            })();
            if (hasCustomAvatar) {
              // è€ç”¨æˆ·å·²æœ‰å¤´åƒï¼Œè·³è¿‡å¼•å¯¼é¡µç›´æ¥çœ‹ç»“æœ
              avatarUploaded = true;
              renderResult(finalType);
            } else {
              // æ–°ç”¨æˆ·æ²¡æœ‰å¤´åƒï¼Œæ˜¾ç¤ºå¼•å¯¼é¡µ
              renderAvatarPrompt(finalType);
            }
            isTransitioning = false;
          }, 1200);
        }else{
          renderQuestion(true);
          isTransitioning = false;
        }
      }, 250);
    }, 350);
  }

  function calcType(){
    const EI = (score.E >= score.I) ? "E" : "I";
    const SN = (score.S >= score.N) ? "S" : "N";
    const TF = (score.T >= score.F) ? "T" : "F";
    const JP = (score.J >= score.P) ? "J" : "P";
    return EI+SN+TF+JP;
  }

  const subTitles = {
    E: "æ®è¯´è¿™ç§æ¯›å­©å­åœ¨ç¾¤é‡Œæœ€å—æ¬¢è¿ğŸ˜†",
    I: "å¤–å†·å†…çƒ­çš„å°ç”œå¿ƒå°±æ˜¯å®ƒå§âœ¨",
    S: "ç¨³é‡å¯é çš„å®¶åº­å°å«å£«ğŸ¶",
    N: "è„‘å›è·¯æ¸…å¥‡çš„æœºçµé¬¼æœ¬é¬¼ğŸ§ "
  };


  function getAvatar(){
    try{ return localStorage.getItem(AVATAR_KEY) || DEFAULT_AVATAR; }
    catch(e){ return DEFAULT_AVATAR; }
  }

  function applyAvatar(){
    const avatarUrl = getAvatar();
    const img = document.getElementById("avatarImg");
    const imgPoster = document.getElementById("avatarImgPoster");
    const imgPosterFree = document.getElementById("avatarImgPosterFree");
    if(img) img.src = avatarUrl;
    if(imgPoster) imgPoster.src = avatarUrl;
    if(imgPosterFree) imgPosterFree.src = avatarUrl;
  }

  function openAvatarPicker(){
    const input = document.getElementById("avatarInput");
    if(input){ input.value = ""; input.click(); }
  }
  
  function clickAvatar(){
    openAvatarPicker();
  }

  function handleAvatarChange(e){
    const file = e.target.files && e.target.files[0];
    if(!file) return;
    const reader = new FileReader();
    reader.onload = function(ev){
      const img = new Image();
      img.onload = function(){
        try {
          // å±…ä¸­è£åˆ‡ä¸ºæ­£æ–¹å½¢ 200x200ï¼ŒJPEG 0.8 è´¨é‡ï¼ˆçº¦ 10-30KBï¼‰
          const canvas = document.createElement('canvas');
          const SIZE = 200;
          canvas.width = SIZE; canvas.height = SIZE;
          const min = Math.min(img.width, img.height);
          const sx = (img.width - min) / 2;
          const sy = (img.height - min) / 2;
          canvas.getContext('2d').drawImage(img, sx, sy, min, min, 0, 0, SIZE, SIZE);
          const compressed = canvas.toDataURL('image/jpeg', 0.8);
          try { localStorage.setItem(AVATAR_KEY, compressed); }
          catch(storageErr) { console.warn('localStorage full, avatar in memory only'); }
          avatarUploaded = true;
          // ç›´æ¥åº”ç”¨å‹ç¼©åçš„å¤´åƒ
          const avatarImg = document.getElementById("avatarImg");
          const avatarImgPoster = document.getElementById("avatarImgPoster");
          if(avatarImg) avatarImg.src = compressed;
          if(avatarImgPoster) avatarImgPoster.src = compressed;
          // æ¸…é™¤å¤´åƒæé†’å¡ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
          const remindContainer = document.getElementById("avatarRemindContainer");
          if(remindContainer) remindContainer.innerHTML = "";
          // æ£€æŸ¥å…¨å±æµ·æŠ¥æ˜¯å¦å·²æ‰“å¼€ï¼Œè‹¥æ‰“å¼€åˆ™åˆ·æ–°
          const fsPoster = document.getElementById("posterFullscreen");
          if(fsPoster && fsPoster.classList.contains("is-show")){
            savePoster({ autoDownload:false, showLoadingToast:false, showSuccessToast:true, refreshOnly:true });
          } else if(_fromRemindCard){
            // ä»æé†’å¡ä¸Šä¼ å¤´åƒåï¼Œè‡ªåŠ¨ç”Ÿæˆæµ·æŠ¥
            _fromRemindCard = false;
            savePoster();
          }
        } catch(compressErr) {
          console.error('Avatar compression failed:', compressErr);
          toast("å¤´åƒå¤„ç†å¤±è´¥ï¼Œè¯·æ¢ä¸€å¼ è¯•è¯•");
        }
      };
      img.onerror = function(){ toast("å¤´åƒåŠ è½½å¤±è´¥ï¼Œè¯·æ¢ä¸€å¼ å›¾ç‰‡"); };
      img.src = ev.target.result;
    };
    reader.onerror = function(){ toast("æ–‡ä»¶è¯»å–å¤±è´¥"); };
    reader.readAsDataURL(file);
  }

  /* ==========================================
   * å¤´åƒå¼•å¯¼é¡µï¼ˆç­”é¢˜å®Œæˆå â†’ ç»“æœé¡µä¹‹å‰ï¼‰
   * ========================================== */
  function renderAvatarPrompt(type) {
    trackEvent('avatar', 'avatar_prompt_shown', type);
    document.getElementById("content").innerHTML = `
      <div class="avatar-prompt">
        <div class="avatar-prompt-title">ğŸ‰ åˆ†æå®Œæˆï¼</div>
        <div class="avatar-prompt-circle" id="avatarPromptCircle" onclick="avatarPromptUpload()">
          <div class="prompt-placeholder">
            <span class="camera-icon">ğŸ“·</span>
            <span>ç‚¹å‡»ä¸Šä¼ ç…§ç‰‡</span>
          </div>
          <img id="avatarPromptImg" alt="é¢„è§ˆ" />
          <div class="check-mark">âœ“</div>
        </div>
        <input id="avatarPromptInput" type="file" accept="image/*" style="display:none" onchange="handleAvatarPromptChange(event)" />
        <div class="avatar-prompt-desc">
          ä¸Šä¼ ä½ å®¶æ¯›å­©å­çš„ç…§ç‰‡<br/>è®©ç»“æœå¡æ›´æœ‰ä¸“å±æ„Ÿ âœ¨
        </div>
        <button class="avatar-prompt-btn" id="avatarPromptBtn" onclick="avatarPromptContinue()">ä¸Šä¼ ç…§ç‰‡ï¼Œç”Ÿæˆä¸“å±å¡</button>
        <button class="avatar-prompt-skip" onclick="avatarPromptSkip()">å…ˆè·³è¿‡ï¼Œç›´æ¥çœ‹ç»“æœ</button>
      </div>
    `;
  }

  function avatarPromptUpload() {
    const input = document.getElementById("avatarPromptInput");
    if (input) { input.value = ""; input.click(); }
  }

  function handleAvatarPromptChange(e) {
    const file = e.target.files && e.target.files[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onload = function(ev) {
      const img = new Image();
      img.onload = function() {
        try {
          // å±…ä¸­è£åˆ‡ä¸ºæ­£æ–¹å½¢ 200x200, JPEG 0.8
          const canvas = document.createElement('canvas');
          const SIZE = 200;
          canvas.width = SIZE; canvas.height = SIZE;
          const min = Math.min(img.width, img.height);
          const sx = (img.width - min) / 2;
          const sy = (img.height - min) / 2;
          canvas.getContext('2d').drawImage(img, sx, sy, min, min, 0, 0, SIZE, SIZE);
          const compressed = canvas.toDataURL('image/jpeg', 0.8);
          try { localStorage.setItem(AVATAR_KEY, compressed); }
          catch(storageErr) { console.warn('localStorage full, avatar in memory only'); }

          avatarUploaded = true;

          // æ›´æ–°å¼•å¯¼é¡µé¢„è§ˆ
          const circle = document.getElementById("avatarPromptCircle");
          const previewImg = document.getElementById("avatarPromptImg");
          if (circle) circle.classList.add("has-photo");
          if (previewImg) { previewImg.src = compressed; previewImg.style.display = "block"; }

          // æŒ‰é’®æ–‡æ¡ˆå˜æ›´
          const btn = document.getElementById("avatarPromptBtn");
          if (btn) btn.textContent = "æŸ¥çœ‹æˆ‘çš„ä¸“å±ç»“æœ ğŸ¾";

          trackEvent('avatar', 'avatar_uploaded', 'prompt_page');
        } catch(err) {
          console.error('Avatar prompt compression failed:', err);
          toast("å¤´åƒå¤„ç†å¤±è´¥ï¼Œè¯·æ¢ä¸€å¼ è¯•è¯•");
        }
      };
      img.onerror = function() { toast("å¤´åƒåŠ è½½å¤±è´¥ï¼Œè¯·æ¢ä¸€å¼ å›¾ç‰‡"); };
      img.src = ev.target.result;
    };
    reader.onerror = function() { toast("æ–‡ä»¶è¯»å–å¤±è´¥"); };
    reader.readAsDataURL(file);
  }

  function avatarPromptContinue() {
    // å¦‚æœè¿˜æ²¡ä¸Šä¼ ç…§ç‰‡ï¼Œç‚¹ä¸»æŒ‰é’®ä¹Ÿè§¦å‘æ–‡ä»¶é€‰æ‹©
    if (!avatarUploaded) {
      avatarPromptUpload();
      return;
    }
    renderResult(finalType);
  }

  function avatarPromptSkip() {
    trackEvent('avatar', 'avatar_prompt_skip', finalType);
    renderResult(finalType);
  }

  /* ==========================================
   * æ¨¡å—åŒ–æ„å»ºå‡½æ•°
   * ========================================== */

  // æ„å»ºæƒ…ç»ªæ³¡æ³¡å›¾ HTML
  function buildEmotionBubbles(r) {
    const layout = [
      { size:'lg', x:-65, y:-45, color:'#FF6B81', delay:'0s' },
      { size:'md', x:58, y:-52, color:'#FFD666', delay:'0.3s' },
      { size:'sm', x:75, y:22, color:'#7ED9A6', delay:'0.6s' },
      { size:'md', x:-55, y:38, color:'#C4A6FF', delay:'0.9s' },
      { size:'sm', x:5, y:68, color:'#8CC8FF', delay:'1.2s' },
      { size:'lg', x:12, y:-72, color:'#FFB074', delay:'0.5s' },
      { size:'sm', x:-70, y:-5, color:'#FF6B81', delay:'0.8s' },
    ];
    return (r.bubbles||[]).slice(0,7).map((b,i) => {
      const l = layout[i] || layout[0];
      return `<span class="bubble bubble-${l.size}" style="--x:${l.x}px;--y:${l.y}px;--color:${l.color};--delay:${l.delay}">${b}</span>`;
    }).join("");
  }

  // æ„å»ºç»´åº¦æ¡å½¢å›¾ HTML
  function buildDimensionRows(score) {
    const config = [
      { left:'E å¤–å‘', right:'å†…å‘ I', lKey:'E', rKey:'I', lColor:'#FF6B81', rColor:'#C4A6FF', label:'ç¤¾äº¤èƒ½é‡' },
      { left:'S å®æ„Ÿ', right:'ç›´è§‰ N', lKey:'S', rKey:'N', lColor:'#FFB074', rColor:'#8CC8FF', label:'æ„ŸçŸ¥æ–¹å¼' },
      { left:'T ç†æ€§', right:'æ„Ÿæ€§ F', lKey:'T', rKey:'F', lColor:'#7ED9A6', rColor:'#FFD666', label:'å†³ç­–åå¥½' },
      { left:'J è®¡åˆ’', right:'éšæ€§ P', lKey:'J', rKey:'P', lColor:'#FF6B81', rColor:'#7ED9A6', label:'ç”Ÿæ´»æ–¹å¼' },
    ];
    return config.map(d => {
      const total = score[d.lKey] + score[d.rKey];
      const lPct = total === 0 ? 50 : Math.round((score[d.lKey]/total)*100);
      const rPct = 100 - lPct;
      return `<div class="dim-title-label">${d.label}</div>
        <div class="dim-row">
          <span class="dim-label dim-left">${d.left}</span>
          <div class="dim-bar-track">
            <div class="dim-bar-fill" style="width:${lPct}%;--bar-color:${d.lColor}">${lPct}%</div>
            <div class="dim-bar-fill" style="width:${rPct}%;--bar-color:${d.rColor}">${rPct}%</div>
          </div>
          <span class="dim-label dim-right">${d.right}</span>
        </div>`;
    }).join("");
  }

  // æ„å»ºæ€§æ ¼ç”»åƒ HTML ç‰‡æ®µ
  function buildPersonaSections(r) {
    return {
      traitsHtml: (r.profile?.traits||[]).map(t => `<li>${t}</li>`).join(""),
      behaviorsHtml: (r.profile?.behaviors||[]).map(t => `<li>${t}</li>`).join(""),
      vsInner: r.profile?.innerVsOuter?.inner || [],
      vsOuter: r.profile?.innerVsOuter?.outer || []
    };
  }

  // æ„å»ºä¸»äººæŒ‡å— HTML
  function buildGuideSections(r) {
    const data = [
      { icon:'ğŸ¤', title:'å¦‚ä½•ç›¸å¤„', items: r.guide?.relationship || [] },
      { icon:'ğŸ–', title:'å–‚å…»æŒ‡å—', items: r.guide?.feeding || [] },
      { icon:'ğŸ¾', title:'ç©å…·ä¸äº’åŠ¨', items: r.guide?.toys || [] },
      { icon:'ğŸ’›', title:'æƒ…ç»ªä¸å¿ƒç†', items: r.guide?.emotion || [] },
    ];
    return data.map(g => {
      const lis = g.items.map(i => `<li>${i}</li>`).join("");
      return `<div class="guide-card"><div class="guide-title">${g.icon} ${g.title}</div><ul>${lis}</ul></div>`;
    }).join("");
  }

  // æ„å»ºæµ·æŠ¥æ³¡æ³¡ HTML
  function buildPosterBubbles(r) {
    const colors = ['#FF6B81','#FFD666','#7ED9A6','#C4A6FF','#8CC8FF','#FFB074'];
    const layout = [
      { size:'lg', left:'18px',  top:'22px' },
      { size:'lg', left:'96px',  top:'0px' },
      { size:'md', left:'178px', top:'16px' },
      { size:'md', left:'32px',  top:'108px' },
      { size:'sm', left:'110px', top:'118px' },
      { size:'md', left:'168px', top:'100px' },
    ];
    return (r.bubbles||[]).slice(0,6).map((b,i) => {
      const p = layout[i];
      return `<span class="p-bubble p-bubble-${p.size}" style="background:${colors[i]};left:${p.left};top:${p.top}">${b}</span>`;
    }).join("");
  }

  // æ„å»ºæµ·æŠ¥ç»´åº¦æ¡ HTML
  function buildPosterDimRows(score) {
    const config = [
      { left:'E', right:'I', lKey:'E', rKey:'I', lColor:'#FF6B81', rColor:'#C4A6FF' },
      { left:'S', right:'N', lKey:'S', rKey:'N', lColor:'#FFB074', rColor:'#8CC8FF' },
      { left:'T', right:'F', lKey:'T', rKey:'F', lColor:'#7ED9A6', rColor:'#FFD666' },
      { left:'J', right:'P', lKey:'J', rKey:'P', lColor:'#FF6B81', rColor:'#7ED9A6' },
    ];
    return config.map(d => {
      const total = score[d.lKey] + score[d.rKey];
      const lPct = total === 0 ? 50 : Math.round((score[d.lKey]/total)*100);
      const rPct = 100 - lPct;
      return `<div class="p-dim-row">
        <span class="p-dim-label p-dim-left">${d.left}</span>
        <div class="p-dim-track">
          <div class="p-dim-fill" style="width:${lPct}%;background:${d.lColor}">${lPct}%</div>
          <div class="p-dim-fill" style="width:${rPct}%;background:${d.rColor}">${rPct}%</div>
        </div>
        <span class="p-dim-label p-dim-right">${d.right}</span>
      </div>`;
    }).join("");
  }

  /* ==========================================
   * ç»“æœé¡µæ¸²æŸ“ï¼ˆç»„åˆæ¨¡å—åŒ–å‡½æ•°ï¼‰
   * ========================================== */
  function renderResult(type){
    var r = results[type];
    if (!r) {
      console.error('Result type not found:', type, '- falling back to ENFP');
      r = results["ENFP"];
      type = "ENFP";
      setTimeout(function(){ toast("ç»“æœåŒ¹é…å¼‚å¸¸ï¼Œå·²æ˜¾ç¤ºé»˜è®¤ç»“æœ"); }, 500);
    }
    finalType = type;
    trackEvent('funnel', 'test_complete', type);
    document.getElementById("statusTag").innerText = "å·²å‡ºç»“æœ";
    document.getElementById("step").innerText = "æµ‹è¯•å®Œæˆ";
    document.getElementById("progress").innerText = "";
    setBar(1);

    // ä½¿ç”¨æ¨¡å—åŒ–å‡½æ•°æ„å»ºå„åŒºå—
    const tipsHtml = r.tips.slice(0, 3).map(t=>`<li>${t}</li>`).join("");
    const tagsHtml = r.tags.map(t=>`<span class="tag">${t}</span>`).join("");
    const bubblesHtml = buildEmotionBubbles(r);
    const dimHtml = buildDimensionRows(score);
    const persona = buildPersonaSections(r);
    const guideHtml = buildGuideSections(r);
    const posterBubblesHtml = buildPosterBubbles(r);
    const posterDimHtml = buildPosterDimRows(score);

    const panel = document.getElementById("panel");
    if(panel) panel.classList.add("panel-result");

    document.getElementById("content").innerHTML = `
      <div class="page">
        <div class="result-card">
          <div class="result-title">æµ‹è¯•ç»“æœ</div>

          <div class="avatar-wrap">
              <div class="avatar-circle" style="border-color:${typeColors[type]||'#FF6B81'}" onclick="clickAvatar()">
                  <img id="avatarImg" alt="å¤´åƒ" />
                  <div class="avatar-camera-badge">ğŸ“·</div>
              </div>
              <input id="avatarInput" type="file" accept="image/*" style="display:none" onchange="handleAvatarChange(event)" />
          </div>

          <div class="result-type" style="color:${typeColors[type]||'#FF6B81'}">${type}</div>
          <div class="result-name">${r.name}</div>
          <div class="result-line">"${r.line}"</div>
          <div class="result-rarity">ğŸ¾ ä½ å®¶æ¯›å­©å­å±äº ${type} å‹ï¼Œä»…å æ‰€æœ‰æµ‹è¯•ç‹—ç‹—çš„ ${r.rarity}%</div>

          <div class="result-tags">${tagsHtml}</div>

          <!-- ç»´åº¦æ¡å½¢å›¾ï¼ˆå…è´¹å±•ç¤ºï¼‰ -->
          <div class="dim-section">
            <div class="section-title">ç»´åº¦åˆ†æ</div>
            ${dimHtml}
          </div>

          <!-- ===== è§£é”åˆ†å‰²çº¿ ===== -->
          <div class="lock-divider">
            <div class="lock-divider-line"></div>
            <div class="lock-divider-text">ğŸ”’ ä»¥ä¸‹ä¸ºå®Œæ•´æŠ¥å‘Šå†…å®¹</div>
            <div class="lock-divider-line"></div>
          </div>

          <!-- ğŸ”’ å†…å¿ƒç‹¬ç™½ï¼ˆåŠ é®ç½©ï¼‰ -->
          <div class="locked-section">
            <div class="lock-overlay" onclick="showUnlockModal()">
              <div class="lock-icon">ğŸ”’</div>
              <div class="lock-text">åŠ ä¼å¾®å…è´¹è§£é”</div>
            </div>
            <div class="lock-content">
              <div class="monologue-card">
                <div class="monologue-label">TAçš„å†…å¿ƒç‹¬ç™½</div>
                <div class="monologue-text">"${r.monologue}"</div>
              </div>
            </div>
          </div>

          <!-- ğŸ”’ å¿ƒç† vs å¤–åœ¨ï¼ˆåŠ é®ç½©ï¼‰ -->
          <div class="locked-section">
            <div class="lock-overlay" onclick="showUnlockModal()">
              <div class="lock-icon">ğŸ”’</div>
              <div class="lock-text">åŠ ä¼å¾®å…è´¹è§£é”</div>
            </div>
            <div class="lock-content">
              <div class="vs-card">
                <div class="sub-title" style="font-size:15px;font-weight:800;color:#2D2A26;margin-bottom:12px;">ğŸ­ å¿ƒç†æƒ³çš„ vs å¤–è¡¨è¡¨ç°çš„</div>
                ${(Array.isArray(persona.vsInner) ? persona.vsInner : [persona.vsInner]).map((inner, i) => {
                  const outer = Array.isArray(persona.vsOuter) ? persona.vsOuter[i] : persona.vsOuter;
                  return `<div class="vs-row" ${i > 0 ? 'style="margin-top:10px;padding-top:10px;border-top:1px dashed #E8E0D8;"' : ''}>
                  <div class="vs-col">
                    ${i === 0 ? '<div class="vs-label">å†…å¿ƒä¸–ç•Œ</div>' : ''}
                    <div class="vs-text">${inner || ''}</div>
                  </div>
                  <div class="vs-divider"></div>
                  <div class="vs-col">
                    ${i === 0 ? '<div class="vs-label">å¤–åœ¨è¡¨ç°</div>' : ''}
                    <div class="vs-text">${outer || ''}</div>
                  </div>
                </div>`;
                }).join('')}
              </div>
            </div>
          </div>

          <!-- ğŸ”’ æƒ…ç»ªæ³¡æ³¡å›¾ï¼ˆåŠ é®ç½©ï¼‰ -->
          <div class="locked-section">
            <div class="lock-overlay" onclick="showUnlockModal()">
              <div class="lock-icon">ğŸ”’</div>
              <div class="lock-text">åŠ ä¼å¾®å…è´¹è§£é”</div>
            </div>
            <div class="lock-content">
              <div class="bubble-section">
                <div class="section-title">å®ƒçš„æƒ…ç»ªæ³¡æ³¡</div>
                <div class="bubble-chart">
                  <div class="bubble-container">
                    ${bubblesHtml}
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- ğŸ”’ è¯¦ç»†æ€§æ ¼ç”»åƒï¼ˆåŠ é®ç½©ï¼‰ -->
          <div class="locked-section">
            <div class="lock-overlay" onclick="showUnlockModal()">
              <div class="lock-icon">ğŸ”’</div>
              <div class="lock-text">åŠ ä¼å¾®å…è´¹è§£é”</div>
            </div>
            <div class="lock-content">
              <div class="profile-section">
                <div class="section-title">æ€§æ ¼ç”»åƒ</div>
                <div class="profile-card">
                  <div class="sub-title">âœ¨ ä»£è¡¨ç‰¹ç‚¹</div>
                  <ul>${persona.traitsHtml}</ul>
                </div>
                <div class="profile-card">
                  <div class="sub-title">ğŸ¾ è¡Œä¸ºè¡¨ç°</div>
                  <ul>${persona.behaviorsHtml}</ul>
                </div>
              </div>
            </div>
          </div>

          <!-- ğŸ”’ ä¸»äººæŒ‡å—ï¼ˆåŠ é®ç½©ï¼‰ -->
          <div class="locked-section">
            <div class="lock-overlay" onclick="showUnlockModal()">
              <div class="lock-icon">ğŸ”’</div>
              <div class="lock-text">åŠ ä¼å¾®å…è´¹è§£é”</div>
            </div>
            <div class="lock-content">
              <div class="guide-section">
                <div class="section-title">ä¸»äººæŒ‡å—</div>
                <div class="tips-card" style="margin-bottom:14px;">
                  <div class="sub-title">âš¡ å¿«é€Ÿè¦ç‚¹</div>
                  <ul>${tipsHtml}</ul>
                </div>
                ${guideHtml}
              </div>
            </div>
          </div>

          <div class="hr"></div>

          <!-- æµ·æŠ¥å¡ï¼ˆè±ªåç‰ˆï¼‰ï¼š9:16é•¿å›¾ 540x960 -->
          <div id="resultCard" class="poster">
            <div class="poster-brand">èŒå® è”èŒ Â· æ¯›å­©å­MBTI</div>
            <div class="p-avatar"><img id="avatarImgPoster" alt="å¤´åƒ" /></div>
            <div class="p-type" style="color:${typeColors[type]||'#FF6B81'}">${type}</div>
            <div class="p-name">${r.name}</div>
            <div class="p-line">"${r.line}"</div>
            <div class="p-rarity">ğŸ¾ ä»…å æ‰€æœ‰æµ‹è¯•ç‹—ç‹—çš„ ${r.rarity}%</div>
            <div class="p-monologue">"${r.monologue.length > 30 ? r.monologue.substring(0, 30) + '...' : r.monologue}"</div>
            <div class="p-tags">${r.tags.map(t=>'<span class="p-tag">'+t+'</span>').join('')}</div>
            <div class="p-section-title">å®ƒçš„æƒ…ç»ªæ³¡æ³¡</div>
            <div class="p-bubbles">${posterBubblesHtml}</div>
            <div class="p-section-title">ç»´åº¦åˆ†æ</div>
            <div class="p-dims">${posterDimHtml}</div>
            <div class="p-footer">
              <div class="p-footer-text">
                <div class="p-footer-title">æ‰«ç æµ‹æµ‹ä½ å®¶æ¯›å­©å­</div>
                <div class="p-footer-sub">1åˆ†é’Ÿå‡ºç»“æœ Â· 16ç§æ€§æ ¼</div>
              </div>
              <div class="p-footer-qr" id="posterQrCode"></div>
            </div>
          </div>

          <!-- æµ·æŠ¥å¡ï¼ˆå…è´¹ç‰ˆ/ç²¾ç®€ç‰ˆï¼‰ï¼š9:16é•¿å›¾ 540x960 -->
          <div id="resultCardFree" class="poster poster-free">
            <div class="poster-brand">èŒå® è”èŒ Â· æ¯›å­©å­MBTI</div>
            <div class="pf-spacer-top"></div>
            <div class="p-avatar"><img id="avatarImgPosterFree" alt="å¤´åƒ" /></div>
            <div class="pf-spacer"></div>
            <div class="p-type" style="color:${typeColors[type]||'#FF6B81'}">${type}</div>
            <div class="p-name">${r.name}</div>
            <div class="pf-spacer"></div>
            <div class="p-line">"${r.line}"</div>
            <div class="pf-spacer-sm"></div>
            <div class="p-rarity">ğŸ¾ ä»…å æ‰€æœ‰æµ‹è¯•ç‹—ç‹—çš„ ${r.rarity}%</div>
            <div class="pf-spacer"></div>
            <div class="p-tags">${r.tags.map(t=>'<span class="p-tag">'+t+'</span>').join('')}</div>
            <div class="pf-spacer-lg"></div>
            <div class="pf-unlock-hint">
              <div class="pf-unlock-icon">ğŸ”“</div>
              <div class="pf-unlock-text">æ‰«ç è§£é”å®Œæ•´æ€§æ ¼æŠ¥å‘Š</div>
              <div class="pf-unlock-sub">å«æƒ…ç»ªæ³¡æ³¡ Â· ç»´åº¦åˆ†æ Â· ä¸»äººæŒ‡å—</div>
            </div>
            <div class="p-footer">
              <div class="p-footer-text">
                <div class="p-footer-title">æ‰«ç æµ‹æµ‹ä½ å®¶æ¯›å­©å­</div>
                <div class="p-footer-sub">1åˆ†é’Ÿå‡ºç»“æœ Â· 16ç§æ€§æ ¼</div>
              </div>
              <div class="p-footer-qr" id="posterQrCodeFree"></div>
            </div>
          </div>

          <div id="avatarRemindContainer"></div>
          <div class="btns">
            <button class="btn-primary" id="posterBtn" onclick="handleGeneratePoster()">ç”Ÿæˆç»“æœå›¾</button>
          </div>

          <div class="btns">
            <button class="btn-ghost" onclick="start()">é‡æ–°æµ‹è¯•</button>
          </div>

          <div class="community-card">
            <div style="font-weight:900; color:var(--pri); font-size:15px; margin-bottom:4px;">ğŸ å…è´¹é¢†å–ä¸“å±å…»æŠ¤æ‰‹å†Œ</div>
            <div class="muted" style="font-size:12px; margin-bottom:12px;">åŠ ä¼å¾®é¢†å–å…»æŠ¤æ‰‹å†Œ + è¿›åŒå“ç§åŒæ€§æ ¼äº¤æµç¾¤</div>
            <div class="btns" style="margin-top:0;">
              <button class="btn-primary" onclick="trackEvent('funnel','wecom_button_clicked',finalType||'unknown');showWecomModal()">ç«‹å³é¢†å–</button>
            </div>
          </div>
          <!-- åº•éƒ¨é—´è·ï¼Œé˜²æ­¢è¢«æ‚¬æµ®è§£é”æ¡é®æŒ¡ -->
          <div style="height:70px;"></div>
        </div>
      </div>
    `;





    // å¤´åƒæ¸²æŸ“
    applyAvatar();

    // æ¸²æŸ“äºŒç»´ç 
    renderQRCode(getTestLink());

    // æµ·æŠ¥åº•éƒ¨äºŒç»´ç åŠ¨æ€ç”Ÿæˆï¼ˆè±ªåç‰ˆ+å…è´¹ç‰ˆï¼‰
    var _qrConfig = {
      text: getTestLink(),
      width: 72,
      height: 72,
      colorDark: "#1a1a1a",
      colorLight: "#ffffff",
      correctLevel: QRCode.Level ? QRCode.Level.H : 3
    };
    var posterQrContainer = document.getElementById('posterQrCode');
    if (posterQrContainer && typeof QRCode !== 'undefined') {
      posterQrContainer.innerHTML = '';
      new QRCode(posterQrContainer, _qrConfig);
    }
    var posterQrContainerFree = document.getElementById('posterQrCodeFree');
    if (posterQrContainerFree && typeof QRCode !== 'undefined') {
      posterQrContainerFree.innerHTML = '';
      new QRCode(posterQrContainerFree, _qrConfig);
    }

    // æ£€æŸ¥è§£é”çŠ¶æ€ + æ›´æ–°æµ·æŠ¥æŒ‰é’®æ–‡æ¡ˆ
    checkAndApplyUnlockState();
    updatePosterBtnText();
  }


  function showWecomModal() {
    const typeLabel = document.getElementById("wecomTypeLabel");
    if(typeLabel) typeLabel.innerText = finalType || "æ¯›å­©å­æ€§æ ¼";
    document.getElementById("wecomModal").style.display = "flex";
    trackEvent('funnel', 'wecom_modal_shown', finalType || 'unknown');
  }

  /* ===== æµ·æŠ¥å…¨å±é¢„è§ˆæ§åˆ¶ ===== */
  function closePosterFullscreen() {
    const fs = document.getElementById("posterFullscreen");
    if (fs) fs.classList.remove("is-show");
  }

  function posterFsChangeAvatar() {
    openAvatarPicker();
  }

  // ç‚¹å‡»é®ç½©ç©ºç™½åŒºåŸŸå…³é—­
  (function(){
    var fs = document.getElementById("posterFullscreen");
    if (fs) {
      fs.addEventListener("click", function(e) {
        if (e.target === fs) closePosterFullscreen();
      });
    }
  })();

  function closeWecomModal() {
    document.getElementById("wecomModal").style.display = "none";
  }

  document.addEventListener("click", function(e){
    const mask = document.getElementById("wecomModal");
    if(mask && e.target === mask) closeWecomModal();
  });

  /* ==========================================
   * å†…å®¹è§£é”ç³»ç»Ÿ
   * ========================================== */

  // æ£€æŸ¥å¹¶åº”ç”¨è§£é”çŠ¶æ€
  function checkAndApplyUnlockState() {
    let isUnlocked = false;
    try { isUnlocked = localStorage.getItem(UNLOCK_KEY) === 'true'; } catch(e) {}

    const resultCard = document.querySelector('.result-card');
    const unlockBar = document.getElementById('unlockBar');

    if (isUnlocked) {
      // å·²è§£é”ï¼šå»æ‰æ‰€æœ‰é®ç½©
      if (resultCard) resultCard.classList.add('unlocked');
      if (unlockBar) unlockBar.classList.remove('is-show');
    } else {
      // æœªè§£é”ï¼šæ˜¾ç¤ºé®ç½©å’Œåº•éƒ¨æ‚¬æµ®æ¡
      if (resultCard) resultCard.classList.remove('unlocked');
      if (unlockBar) unlockBar.classList.add('is-show');
    }
  }

  // æ˜¾ç¤ºè§£é”å¼¹çª—
  function showUnlockModal() {
    const modal = document.getElementById('unlockModal');
    if (!modal) return;
    modal.classList.add('is-show');

    // é‡ç½®çŠ¶æ€
    const countdownEl = document.getElementById('countdownNum');
    const countdownWrap = document.getElementById('unlockCountdown');
    const confirmBtn = document.getElementById('unlockConfirmBtn');
    const skipBtn = document.getElementById('unlockSkip');
    if (countdownEl) countdownEl.textContent = '15';
    if (countdownWrap) countdownWrap.style.display = 'block';
    if (confirmBtn) confirmBtn.classList.remove('is-show');
    if (skipBtn) skipBtn.classList.remove('is-show');

    // æ¸…é™¤ä¹‹å‰çš„è®¡æ—¶å™¨
    if (unlockCountdownTimer) clearInterval(unlockCountdownTimer);

    // å¼€å§‹15ç§’å€’è®¡æ—¶
    let remaining = 15;
    unlockCountdownTimer = setInterval(function() {
      remaining--;
      if (countdownEl) countdownEl.textContent = remaining;
      if (remaining <= 0) {
        clearInterval(unlockCountdownTimer);
        unlockCountdownTimer = null;
        // å€’è®¡æ—¶ç»“æŸï¼šéšè—å€’è®¡æ—¶æ–‡å­—ï¼Œæ˜¾ç¤ºç¡®è®¤æŒ‰é’®
        if (countdownWrap) countdownWrap.style.display = 'none';
        if (confirmBtn) confirmBtn.classList.add('is-show');
        if (skipBtn) skipBtn.classList.add('is-show');
      }
    }, 1000);

    trackEvent('funnel', 'unlock_modal_shown', finalType || 'unknown');
  }

  // å…³é—­è§£é”å¼¹çª—
  function closeUnlockModal() {
    const modal = document.getElementById('unlockModal');
    if (modal) modal.classList.remove('is-show');
    if (unlockCountdownTimer) {
      clearInterval(unlockCountdownTimer);
      unlockCountdownTimer = null;
    }
  }

  // ç‚¹å‡»é®ç½©å…³é—­è§£é”å¼¹çª—
  document.addEventListener("click", function(e){
    const mask = document.getElementById("unlockModal");
    if(mask && e.target === mask) closeUnlockModal();
  });

  // ç¡®è®¤è§£é”
  function confirmUnlock() {
    // ä¿å­˜è§£é”çŠ¶æ€
    try { localStorage.setItem(UNLOCK_KEY, 'true'); } catch(e) {}

    // å…³é—­å¼¹çª—
    closeUnlockModal();

    // åº”ç”¨è§£é”æ•ˆæœ
    const resultCard = document.querySelector('.result-card');
    const unlockBar = document.getElementById('unlockBar');
    if (resultCard) resultCard.classList.add('unlocked');
    if (unlockBar) unlockBar.classList.remove('is-show');

    // æ›´æ–°æµ·æŠ¥æŒ‰é’®æ–‡æ¡ˆ
    updatePosterBtnText();

    // åŸ‹ç‚¹
    trackEvent('funnel', 'content_unlocked', finalType || 'unknown');

    // æç¤º
    toast('ğŸ‰ å®Œæ•´æŠ¥å‘Šå·²è§£é”');
  }

  // æ ¹æ®è§£é”çŠ¶æ€æ›´æ–°æµ·æŠ¥æŒ‰é’®æ–‡æ¡ˆ
  function updatePosterBtnText() {
    var btn = document.getElementById('posterBtn');
    if (!btn) return;
    var isUnlocked = false;
    try { isUnlocked = localStorage.getItem(UNLOCK_KEY) === 'true'; } catch(e) {}
    btn.textContent = isUnlocked ? 'âœ¨ ç”Ÿæˆä¸“å±æµ·æŠ¥' : 'ç”Ÿæˆç»“æœå›¾';
  }

  function renderQRCode(url){
    if (typeof QRCode === 'undefined') { console.warn('QRCode library not loaded'); return; }
    // ç¡®ä¿ url æ˜¯å¯è®¿é—®çš„ http/https åœ°å€ï¼Œfile:// åè®®ä¼šå½±å“éƒ¨åˆ†æ‰«ç å™¨
    const validUrl = url.startsWith('http') ? url : 'https://dog-mbti-test.pages.dev'; // å…œåº•çº¿ä¸Šåœ°å€

    const container = document.getElementById("qrcode");

    if(!container) return;
    container.innerHTML = "";
    new QRCode(container, {
      text: validUrl,
      width: 96,
      height: 110,
      colorDark : "#1a1a1a",
      colorLight : "#ffffff",
      correctLevel : QRCode.Level ? QRCode.Level.H : 3 // QRCode.Level å¯èƒ½ä¸å­˜åœ¨ï¼ŒLevel.H å¯¹åº” 3
    });
  }

  /* ç‚¹å‡»"ç”Ÿæˆç»“æœå›¾"å…¥å£ï¼šæ£€æŸ¥æ˜¯å¦éœ€è¦æé†’ä¸Šä¼ å¤´åƒ */
  function handleGeneratePoster() {
    const isDefault = !avatarUploaded && (function(){
      try { return !localStorage.getItem(AVATAR_KEY); } catch(e){ return true; }
    })();
    const container = document.getElementById("avatarRemindContainer");

    if (isDefault && container && !container.querySelector('.avatar-remind-card')) {
      trackEvent('avatar', 'avatar_remind_shown', finalType);
      container.innerHTML = `
        <div class="avatar-remind-card">
          <div class="remind-icon">ğŸ“·</div>
          <div class="remind-text"><strong>è¿˜æ²¡ä¸Šä¼ æ¯›å­©å­ç…§ç‰‡å‘¢ï½</strong><br/>ä¸Šä¼ åæµ·æŠ¥æ›´ä¸ªæ€§</div>
          <div class="remind-actions">
            <button class="remind-btn remind-btn-upload" onclick="remindUploadAvatar()">ä¸Šä¼ </button>
            <button class="remind-btn remind-btn-skip" onclick="remindSkipAvatar()">è·³è¿‡</button>
          </div>
        </div>
      `;
      return;
    }
    savePoster();
  }

  let _fromRemindCard = false;
  function remindUploadAvatar() {
    _fromRemindCard = true;
    openAvatarPicker();
    // å…³é—­æé†’å¡
    const container = document.getElementById("avatarRemindContainer");
    if (container) container.innerHTML = "";
  }

  function remindSkipAvatar() {
    const container = document.getElementById("avatarRemindContainer");
    if (container) container.innerHTML = "";
    savePoster();
  }

  async function savePoster(options = {}){
    try{
      const opts = {
        autoDownload: true,
        showLoadingToast: true,
        showSuccessToast: true,
        refreshOnly: false,
        ...options
      };

      if (typeof html2canvas === 'undefined') {
        toast("æµ·æŠ¥ç»„ä»¶åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•");
        return;
      }

      // æ ¹æ®è§£é”çŠ¶æ€é€‰æ‹©æµ·æŠ¥ç‰ˆæœ¬
      var _isUnlockedForPoster = false;
      try { _isUnlockedForPoster = localStorage.getItem(UNLOCK_KEY) === 'true'; } catch(e) {}
      const posterId = _isUnlockedForPoster ? "resultCard" : "resultCardFree";
      const el = document.getElementById(posterId);
      if(!el){ toast("æ²¡æ‰¾åˆ°ç»“æœå¡"); return; }

      if(opts.showLoadingToast){
        toast(opts.refreshOnly ? "æ­£åœ¨æ›´æ–°æµ·æŠ¥..." : "æµ·æŠ¥ç”Ÿæˆä¸­...");
      }
      // å»¶è¿Ÿç¡®ä¿äºŒç»´ç æ¸²æŸ“å®Œæˆ
      await new Promise(resolve => setTimeout(resolve, 150));

      // ä¸´æ—¶åˆ‡æ¢ä¸º absolute ä»¥ä¾¿ html2canvas æ­£ç¡®æ•è·
      el.style.position = 'absolute';
      el.style.left = '0';
      el.style.top = '0';
      el.style.zIndex = '-1';

      const canvas = await html2canvas(el, {
        scale: 2,
        useCORS: true,
        backgroundColor: "#ffffff",
        width: 540,
        height: 960
      });

      // æ¢å¤ fixed å®šä½
      el.style.position = 'fixed';
      el.style.left = '-9999px';
      el.style.zIndex = '';


      const dataUrl = canvas.toDataURL("image/png");

      // å…¨å±é®ç½©å±•ç¤ºæµ·æŠ¥
      const fsImg = document.getElementById("posterFsImg");
      const fs = document.getElementById("posterFullscreen");
      if (fsImg) fsImg.src = dataUrl;
      if (fs && !opts.refreshOnly) fs.classList.add("is-show");

      // PC å°è¯•ä¸‹è½½
      if(opts.autoDownload && !/MicroMessenger/i.test(navigator.userAgent)){
        const a = document.createElement("a");
        a.href = dataUrl;
        a.download = `æ¯›å­©å­MBTI-${finalType || "RESULT"}.png`;
        a.click();
      }

      if (!opts.refreshOnly) trackEvent('funnel', 'poster_generated', finalType || 'unknown');
      if(opts.showSuccessToast && opts.refreshOnly){
        toast("å¤´åƒå·²æ›´æ–°ï¼Œæµ·æŠ¥å·²åˆ·æ–°");
      }

      // äºŒæ¬¡è½¬åŒ–ï¼šç”¨æˆ·æ»šåŠ¨åˆ°ç¤¾åŒºå¡ç‰‡åŒºåŸŸæ—¶å¼¹çª—ï¼ˆä»…é™ä¸€æ¬¡ï¼‰
      // å¦‚æœç”¨æˆ·å·²è§£é”å†…å®¹ï¼Œè¯´æ˜å·²ç»å¼•å¯¼è¿‡åŠ ä¼å¾®äº†ï¼Œä¸å†è‡ªåŠ¨å¼¹çª—
      var _isUnlocked = false;
      try { _isUnlocked = localStorage.getItem(UNLOCK_KEY) === 'true'; } catch(e) {}
      if (!hasShownWecomModal && !_isUnlocked) {
        hasShownWecomModal = true;
        var communityCard = document.querySelector('.community-card');
        if (communityCard && typeof IntersectionObserver !== 'undefined') {
          var wecomObserver = new IntersectionObserver(function(entries) {
            entries.forEach(function(entry) {
              if (entry.isIntersecting) {
                wecomObserver.disconnect();
                setTimeout(function(){ showWecomModal(); }, 1000);
              }
            });
          }, { threshold: 0.3 });
          wecomObserver.observe(communityCard);
          // å…œåº•ï¼š15ç§’åä»æœªæ»šåŠ¨åˆ°åˆ™è‡ªåŠ¨å¼¹å‡º
          setTimeout(function() {
            wecomObserver.disconnect();
            var modal = document.getElementById("wecomModal");
            if (modal && modal.style.display !== "flex") showWecomModal();
          }, 15000);
        } else {
          // ä¸æ”¯æŒ IntersectionObserver çš„æµè§ˆå™¨å…œåº•
          setTimeout(function(){ showWecomModal(); }, 8000);
        }
      }
    }catch(e){

      console.error(e);
      toast("ç”Ÿæˆå¤±è´¥ï¼Œè¯·æˆªå›¾ä¿å­˜");
    }
  }

  function setBar(p){


    const w = Math.max(0, Math.min(1, p)) * 100;
    const bar = document.getElementById("bar");
    if(bar) bar.style.width = w.toFixed(0) + "%";
  }

  function toast(msg){
    const el = document.getElementById("toast");
    el.innerText = msg;
    el.style.display = "block";
    clearTimeout(window.__t);
    window.__t = setTimeout(()=> el.style.display="none", 2000);
  }

  // å›åˆ°é¡¶éƒ¨æŒ‰é’®æ˜¾ç¤º/éšè—
  (function(){
    var btn = document.getElementById('backToTop');
    if (!btn) return;
    var ticking = false;
    window.addEventListener('scroll', function(){
      if (!ticking) {
        requestAnimationFrame(function(){
          btn.classList.toggle('is-visible', window.scrollY > 400);
          ticking = false;
        });
        ticking = true;
      }
    }, { passive: true });
  })();

</script>
</body>
</html>
